"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fromJSON = exports.toJSON = exports.equal = exports.clone = exports.merge = exports.extend = exports.include = exports.assign = exports.query = exports.omit = exports.pick = exports.pairs = exports.values = exports.keys = exports.has = exports.methods = exports.properties = exports.detach = exports.bind = exports.property = void 0;

var _pandaGarden = require("panda-garden");

var _pandaGenerics = require("panda-generics");

var _type = require("./type");

var assign, bind, cat, clone, detach, equal, extend, fromJSON, has, include, keys, merge, methods, omit, pairs, pick, properties, property, query, toJSON, unique, values;
exports.values = values;
exports.toJSON = toJSON;
exports.query = query;
exports.property = property;
exports.properties = properties;
exports.pick = pick;
exports.pairs = pairs;
exports.omit = omit;
exports.methods = methods;
exports.merge = merge;
exports.keys = keys;
exports.include = include;
exports.has = has;
exports.fromJSON = fromJSON;
exports.extend = extend;
exports.equal = equal;
exports.detach = detach;
exports.clone = clone;
exports.bind = bind;
exports.assign = assign;
exports.property = property = (0, _pandaGarden.curry)(function (key, object) {
  return object[key];
});
exports.bind = bind = (0, _pandaGarden.curry)(function (f, x) {
  return f.bind(x);
});

exports.detach = detach = function (f) {
  return (0, _pandaGarden.curry)(function (x, ...args) {
    return f.apply(x, args);
  });
};

exports.properties = properties = function (target, descriptions) {
  var description, name, results;
  results = [];

  for (name in descriptions) {
    description = descriptions[name];

    if (description.enumerable == null) {
      description.enumerable = true;
    }

    if (description.configurable == null) {
      description.configurable = true;
    }

    results.push(Object.defineProperty(target, name, description));
  }

  return results;
};

exports.methods = methods = function (target, definitions) {
  var f, name, results;
  results = [];

  for (name in definitions) {
    f = definitions[name];
    results.push(Object.defineProperty(target, name, {
      value: f,
      configurable: true,
      writable: true
    }));
  }

  return results;
};

exports.has = has = (0, _pandaGarden.curry)(function (p, x) {
  return x[p] != null;
});
exports.keys = keys = Object.keys;

exports.values = values = function (x) {
  var k, results, v;
  results = [];

  for (k in x) {
    v = x[k];
    results.push(v);
  }

  return results;
};

exports.pairs = pairs = function (x) {
  var k, results, v;
  results = [];

  for (k in x) {
    v = x[k];
    results.push([k, v]);
  }

  return results;
};

exports.pick = pick = (0, _pandaGarden.curry)(function (f, x) {
  var k, r, v;
  r = {};

  for (k in x) {
    v = x[k];

    if (f(k, v)) {
      r[k] = v;
    }
  }

  return r;
});
exports.omit = omit = (0, _pandaGarden.curry)(function (f, x) {
  return pick((0, _pandaGarden.negate)(f), x);
});
exports.query = query = (0, _pandaGarden.curry)(function (example, target) {
  var k, v;

  if ((0, _type.isObject)(example) && (0, _type.isObject)(target)) {
    for (k in example) {
      v = example[k];

      if (!query(v, target[k])) {
        return false;
      }
    }

    return true;
  } else {
    return equal(example, target);
  }
});

exports.include = include = exports.extend = extend = exports.assign = assign = function (target, ...sources) {
  return Object.assign(target, ...sources);
};

exports.merge = merge = function (...objects) {
  return Object.assign({}, ...objects);
}; // Trivial case: return the same value


exports.clone = clone = _pandaGenerics.Method.create({
  default: _pandaGarden.identity
}); // TODO: handle additional cases
// See Lodash implemention as a guide

_pandaGenerics.Method.define(clone, _type.isObject, function (original) {
  var copy, key;
  copy = new original.constructor(); // TODO: this doesn't clone non-enumerable properties

  for (key in original) {
    copy[key] = clone(original[key]);
  }

  return copy;
}); // adapted from lodash as an example


_pandaGenerics.Method.define(clone, _type.isRegExp, function (flags) {
  return function (original) {
    var copy;
    copy = new original.constructor(original.source, flags.exec(original));
    copy.lastIndex = original.lastIndex;
    return copy;
  };
}(/\w*$/)); // “deep” comparison, when applicable


exports.equal = equal = _pandaGenerics.Method.create({
  default: function (a, b) {
    return a === b;
  }
}); // can't use unique and cat from array b/c array
// depends on object (this file) for detach

cat = detach(Array.prototype.concat);

unique = function (ax) {
  return Array.from(new Set(ax));
};

_pandaGenerics.Method.define(equal, _type.isObject, _type.isObject, function (a, b) {
  return a === b || function () {
    var j, key, len, ref;
    ref = unique(cat(keys(a), keys(b)));

    for (j = 0, len = ref.length; j < len; j++) {
      key = ref[j];

      if (!equal(a[key], b[key])) {
        return false;
      }
    }

    return true;
  }();
});

_pandaGenerics.Method.define(equal, _type.isArray, _type.isArray, function (ax, bx) {
  return ax === bx || function () {
    var i, j, ref;

    if (ax.length !== bx.length) {
      return false;
    }

    for (i = j = 0, ref = ax.length; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
      if (!equal(ax[i], bx[i])) {
        return false;
      }
    }

    return true;
  }();
});

exports.toJSON = toJSON = function (x, pretty = false) {
  if (pretty) {
    return JSON.stringify(x, null, 2);
  } else {
    return JSON.stringify(x);
  }
};

exports.fromJSON = fromJSON = JSON.parse;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9keW9kZXIvcmVwb3MvcGFuZGEtcGFyY2htZW50L3NyYy9vYmplY3QuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFGQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBLG1CQUFBLFFBQUEsR0FBVyx3QkFBTSxVQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUE7U0FBaUIsTUFBTyxDQUFBLEdBQUEsQztBQUE5QixDQUFBLENBQVg7QUFFQSxlQUFBLElBQUEsR0FBTyx3QkFBTSxVQUFBLENBQUEsRUFBQSxDQUFBLEVBQUE7U0FBVSxDQUFDLENBQUQsSUFBQSxDQUFBLENBQUEsQztBQUFoQixDQUFBLENBQVA7O0FBRUEsaUJBQUEsTUFBQSxHQUFTLFVBQUEsQ0FBQSxFQUFBO1NBQU8sd0JBQU0sVUFBQSxDQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUE7V0FBZ0IsQ0FBQyxDQUFELEtBQUEsQ0FBQSxDQUFBLEVBQUEsSUFBQSxDO0FBQXRCLEdBQUEsQztBQUFQLENBQVQ7O0FBRUEscUJBQUEsVUFBQSxHQUFhLFVBQUEsTUFBQSxFQUFBLFlBQUEsRUFBQTtBQUNYLE1BQUEsV0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBO0FBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQTs7QUFBQSxPQUFBLElBQUEsSUFBQSxZQUFBLEVBQUE7Ozs7QUFDRSxNQUFBLFdBQVcsQ0FBQyxVQUFaLEdBQTBCLElBQTFCOzs7O0FBQ0EsTUFBQSxX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QUFBLENBQU0sRUFBRyxDQUFULENBQVMsQ0FBVCxFQUFhLEVBQUcsQ0FBcEIsQ0FBb0IsQ0FBaEIsQ0FBSixFQUFBO0FBQ0UsZUFERixLQUNFOztBQUZKOztXQUdBLEk7QUFMWSxHQUFHLEU7QUFEbkIsQ0FBQTs7QUFRQSxpQkFBQSxNQUFBLEdBQVMsVUFBQSxDQUFBLEVBQUksTUFBQSxHQUFKLEtBQUEsRUFBQTtBQUNQLE1BQUEsTUFBQSxFQUFBO1dBQ0UsSUFBSSxDQUFKLFNBQUEsQ0FBQSxDQUFBLEVBQUEsSUFBQSxFQURGLENBQ0UsQztBQURGLEdBQUEsTUFBQTtXQUdFLElBQUksQ0FBSixTQUFBLENBSEYsQ0FHRSxDOztBQUpLLENBQVQ7O0FBTUEsbUJBQUEsUUFBQSxHQUFXLElBQUksQ0FBQyxLQUFoQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aWRlbnRpdHksIGN1cnJ5LCBuZWdhdGV9IGZyb20gXCJwYW5kYS1nYXJkZW5cIlxuaW1wb3J0IHtNZXRob2R9IGZyb20gXCJwYW5kYS1nZW5lcmljc1wiXG5pbXBvcnQge2lzT2JqZWN0LCBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc1JlZ0V4cH0gZnJvbSBcIi4vdHlwZVwiXG5cbnByb3BlcnR5ID0gY3VycnkgKGtleSwgb2JqZWN0KSAtPiBvYmplY3Rba2V5XVxuXG5iaW5kID0gY3VycnkgKGYsIHgpIC0+IGYuYmluZCB4XG5cbmRldGFjaCA9IChmKSAtPiBjdXJyeSAoeCwgYXJncy4uLikgLT4gZi5hcHBseSB4LCBhcmdzXG5cbnByb3BlcnRpZXMgPSAodGFyZ2V0LCBkZXNjcmlwdGlvbnMpIC0+XG4gIGZvciBuYW1lLCBkZXNjcmlwdGlvbiBvZiBkZXNjcmlwdGlvbnNcbiAgICBkZXNjcmlwdGlvbi5lbnVtZXJhYmxlID89IHRydWVcbiAgICBkZXNjcmlwdGlvbi5jb25maWd1cmFibGUgPz0gdHJ1ZVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0YXJnZXQsIG5hbWUsIGRlc2NyaXB0aW9uXG5cbm1ldGhvZHMgPSAodGFyZ2V0LCBkZWZpbml0aW9ucykgLT5cbiAgZm9yIG5hbWUsIGYgb2YgZGVmaW5pdGlvbnNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGFyZ2V0LCBuYW1lLFxuICAgICAgdmFsdWU6IGZcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgd3JpdGFibGU6IHRydWVcblxuaGFzID0gY3VycnkgKHAsIHgpIC0+IHhbcF0/XG5cbmtleXMgPSBPYmplY3Qua2V5c1xuXG52YWx1ZXMgPSAoeCkgLT4gdiBmb3IgaywgdiBvZiB4XG5cbnBhaXJzID0gKHgpIC0+IFtrLCB2XSBmb3IgaywgdiBvZiB4XG5cbnBpY2sgPSBjdXJyeSAoZiwgeCkgLT5cbiAgciA9IHt9XG4gIHJba10gPSB2IGZvciBrLCB2IG9mIHggd2hlbiBmIGssIHZcbiAgclxuXG5vbWl0ID0gY3VycnkgKGYsIHgpIC0+IHBpY2sgKG5lZ2F0ZSBmKSwgeFxuXG5xdWVyeSA9IGN1cnJ5IChleGFtcGxlLCB0YXJnZXQpIC0+XG4gIGlmIChpc09iamVjdCBleGFtcGxlKSAmJiAoaXNPYmplY3QgdGFyZ2V0KVxuICAgIGZvciBrLCB2IG9mIGV4YW1wbGVcbiAgICAgIHJldHVybiBmYWxzZSB1bmxlc3MgcXVlcnkgdiwgdGFyZ2V0W2tdXG4gICAgcmV0dXJuIHRydWVcbiAgZWxzZVxuICAgIGVxdWFsIGV4YW1wbGUsIHRhcmdldFxuXG5pbmNsdWRlID0gZXh0ZW5kID0gYXNzaWduID0gKHRhcmdldCwgc291cmNlcy4uLikgLT5cbiAgT2JqZWN0LmFzc2lnbiB0YXJnZXQsIHNvdXJjZXMuLi5cblxubWVyZ2UgPSAob2JqZWN0cy4uLikgLT4gT2JqZWN0LmFzc2lnbiB7fSwgb2JqZWN0cy4uLlxuXG4jIFRyaXZpYWwgY2FzZTogcmV0dXJuIHRoZSBzYW1lIHZhbHVlXG5jbG9uZSA9IE1ldGhvZC5jcmVhdGUgZGVmYXVsdDogaWRlbnRpdHlcblxuIyBUT0RPOiBoYW5kbGUgYWRkaXRpb25hbCBjYXNlc1xuIyBTZWUgTG9kYXNoIGltcGxlbWVudGlvbiBhcyBhIGd1aWRlXG5cbk1ldGhvZC5kZWZpbmUgY2xvbmUsIGlzT2JqZWN0LCAob3JpZ2luYWwpIC0+XG4gIGNvcHkgPSBuZXcgb3JpZ2luYWwuY29uc3RydWN0b3IoKVxuICAjIFRPRE86IHRoaXMgZG9lc24ndCBjbG9uZSBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gIGZvciBrZXkgb2Ygb3JpZ2luYWxcbiAgICBjb3B5W2tleV0gPSAoY2xvbmUgb3JpZ2luYWxba2V5XSlcbiAgcmV0dXJuIGNvcHlcblxuIyBhZGFwdGVkIGZyb20gbG9kYXNoIGFzIGFuIGV4YW1wbGVcbk1ldGhvZC5kZWZpbmUgY2xvbmUsIGlzUmVnRXhwLCBkbyAoZmxhZ3M9L1xcdyokLykgLT5cbiAgKG9yaWdpbmFsKSAtPlxuICAgIGNvcHkgPSBuZXcgb3JpZ2luYWwuY29uc3RydWN0b3Igb3JpZ2luYWwuc291cmNlLCAoZmxhZ3MuZXhlYyBvcmlnaW5hbClcbiAgICBjb3B5Lmxhc3RJbmRleCA9IG9yaWdpbmFsLmxhc3RJbmRleFxuICAgIGNvcHlcblxuIyDigJxkZWVw4oCdIGNvbXBhcmlzb24sIHdoZW4gYXBwbGljYWJsZVxuZXF1YWwgPSBNZXRob2QuY3JlYXRlIGRlZmF1bHQ6IChhLCBiKSAtPiBhID09IGJcblxuIyBjYW4ndCB1c2UgdW5pcXVlIGFuZCBjYXQgZnJvbSBhcnJheSBiL2MgYXJyYXlcbiMgZGVwZW5kcyBvbiBvYmplY3QgKHRoaXMgZmlsZSkgZm9yIGRldGFjaFxuY2F0ID0gZGV0YWNoIEFycmF5Ojpjb25jYXRcbnVuaXF1ZSA9IChheCkgLT4gQXJyYXkuZnJvbSBuZXcgU2V0IGF4XG5NZXRob2QuZGVmaW5lIGVxdWFsLCBpc09iamVjdCwgaXNPYmplY3QsIChhLCBiKSAtPlxuICAoYSA9PSBiKSB8fCBkbyAtPlxuICAgIGZvciBrZXkgaW4gKHVuaXF1ZSBjYXQgKGtleXMgYSksIChrZXlzIGIpKVxuICAgICAgaWYgISBlcXVhbCBhW2tleV0sIGJba2V5XVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB0cnVlXG5cbk1ldGhvZC5kZWZpbmUgZXF1YWwsIGlzQXJyYXksIGlzQXJyYXksIChheCwgYngpIC0+XG4gIChheCA9PSBieCkgfHwgZG8gLT5cbiAgICByZXR1cm4gZmFsc2UgaWYgYXgubGVuZ3RoICE9IGJ4Lmxlbmd0aFxuICAgIGZvciBpIGluIFswLi5heC5sZW5ndGhdXG4gICAgICBpZiAhZXF1YWwgYXhbaV0sIGJ4W2ldXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIHRydWVcblxudG9KU09OID0gKHgsIHByZXR0eSA9IGZhbHNlKSAtPlxuICBpZiBwcmV0dHlcbiAgICBKU09OLnN0cmluZ2lmeSB4LCBudWxsLCAyXG4gIGVsc2VcbiAgICBKU09OLnN0cmluZ2lmeSB4XG5cbmZyb21KU09OID0gSlNPTi5wYXJzZVxuXG5leHBvcnQge3Byb3BlcnR5LCBiaW5kLCBkZXRhY2gsXG5wcm9wZXJ0aWVzLCBtZXRob2RzLFxuaGFzLCBrZXlzLCB2YWx1ZXMsIHBhaXJzLFxucGljaywgb21pdCwgcXVlcnksXG5hc3NpZ24sIGluY2x1ZGUsIGV4dGVuZCwgbWVyZ2UsXG5jbG9uZSwgZXF1YWwsXG50b0pTT04sIGZyb21KU09OfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=/Users/dyoder/repos/panda-parchment/src/object.coffee