"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _,
    apply,
    binary,
    compose,
    curry,
    flip,
    given,
    identity,
    memoize,
    negate,
    noOp,
    once,
    partial,
    pipe,
    spread,
    substitute,
    tee,
    ternary,
    unary,
    wrap,
    slice = [].slice;

exports.noOp = noOp = function () {};

exports.identity = identity = function (x) {
  return x;
};

exports.wrap = wrap = function (x) {
  return function () {
    return x;
  };
};

exports.curry = curry = function (f) {
  var g;
  return g = function (...ax) {
    if (ax.length >= f.length) {
      return f(...ax);
    } else {
      switch (f.length - ax.length) {
        case 1:
          return function (x) {
            return f(...ax, x);
          };
        case 2:
          return binary(curry(function (x, y) {
            return f(...ax, x, y);
          }));
        case 3:
          return ternary(curry(function (x, y, z) {
            return f(...ax, x, y, z);
          }));
        default:
          return function (...bx) {
            return g(...ax, ...bx);
          };
      }
    }
  };
};

exports._ = _ = {};

exports.substitute = substitute = curry(function (ax, bx) {
  var a, i, j, len, results;
  i = 0;
  results = [];
  for (j = 0, len = ax.length; j < len; j++) {
    a = ax[j];
    if (a === _) {
      results.push(bx[i++]);
    } else {
      results.push(a);
    }
  }
  return results;
});

exports.partial = partial = function (f, ...ax) {
  return function (...bx) {
    return f(...substitute(ax, bx));
  };
};

exports.flip = flip = function (f) {
  switch (f.length) {
    case 1:
      return f;
    case 2:
      return function (y, x) {
        return f(x, y);
      };
    case 3:
      return function (z, y, x) {
        return f(x, y, z);
      };
    default:
      return function (...ax) {
        return f(...ax.reverse());
      };
  }
};

exports.compose = compose = function (...fx) {
  var f, g, j, ref;
  ref = fx, fx = 2 <= ref.length ? slice.call(ref, 0, j = ref.length - 1) : (j = 0, []), f = ref[j++];
  if (fx.length === 0) {
    return f;
  } else {
    g = compose(...fx);
    return function (...ax) {
      var fax, ref1;
      if (((ref1 = fax = f(...ax)) != null ? ref1.then : void 0) != null) {
        return fax.then(g);
      } else {
        return g(fax);
      }
    };
  }
};

exports.pipe = pipe = flip(compose);

exports.spread = spread = function (f) {
  return function (ax) {
    return f(...ax);
  };
};

exports.unary = unary = function (f) {
  return function (x) {
    return f(x);
  };
};

exports.binary = binary = function (f) {
  return function (x, y) {
    return f(...arguments);
  };
};

exports.ternary = ternary = function (f) {
  return function (x, y, z) {
    return f(...arguments);
  };
};

exports.apply = apply = function (f, ...args) {
  return f(...args);
};

exports.negate = negate = function (f) {
  return function () {
    return !f(...arguments);
  };
};

exports.given = given = function (...args) {
  var f, j, ref;
  ref = args, args = 2 <= ref.length ? slice.call(ref, 0, j = ref.length - 1) : (j = 0, []), f = ref[j++];
  return f(...args);
};

exports.tee = tee = function (f) {
  return function (first, ...rest) {
    f(first, ...rest);
    return first;
  };
};

exports.once = once = function (f) {
  return function (k) {
    return function () {
      if (k != null) {
        return k;
      } else {
        return k = f();
      }
    };
  }(void 0);
};

exports.memoize = memoize = function (f) {
  return function (cache) {
    return function (...args) {
      return cache[args] != null ? cache[args] : cache[args] = f(...args);
    };
  }({});
};

exports.noOp = noOp;
exports.identity = identity;
exports.wrap = wrap;
exports.curry = curry;
exports._ = _;
exports.substitute = substitute;
exports.partial = partial;
exports.flip = flip;
exports.compose = compose;
exports.pipe = pipe;
exports.spread = spread;
exports.unary = unary;
exports.binary = binary;
exports.ternary = ternary;
exports.apply = apply;
exports.negate = negate;
exports.once = once;
exports.tee = tee;
exports.given = given;
exports.memoize = memoize;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW5kZXguY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQTtJQUFBO0lBQUE7SUFBQTtJQUFBO0lBQUE7SUFBQTtJQUFBO0lBQUE7SUFBQTtJQUFBO0lBQUE7SUFBQTtJQUFBO0lBQUE7SUFBQTtJQUFBO0lBQUE7SUFBQTtJQUFBO0lBQUE7O0FBQUEsUUF3RUEsQUFBUSxjQXhFRCxZQUFBOztBQUVQLFFBc0VBLEFBQWMsc0JBdEVILFVBQUEsQUFBQztTQUFELEFBQU87OztBQUVsQixRQW9FQSxBQUF3QixjQXBFakIsVUFBQSxBQUFDO1NBQU07V0FBQSxBQUFHO0FBQVY7OztBQUVQLFFBa0VBLEFBQThCLGdCQWxFdEIsVUFBQSxBQUFDLEdBQ1A7TUFBQTtTQUFBLElBQUksVUFBQSxHQUFBLEFBQUM7QUFDSCxRQUFHLEFBQUUsR0FBRixBQUFHLFVBQVUsQUFBQyxFQUFqQixBQUFrQjthQUNoQixFQUFFLEdBREosQUFDRSxBQUFFO0FBREosV0FBQSxBQUdFO2NBQU8sQUFBQyxFQUFELEFBQUUsU0FBUyxBQUFFLEdBQXBCLEFBQXFCO2FBQXJCLEFBQ087aUJBQU8sVUFBQSxBQUFDO21CQUFNLEVBQUUsR0FBRixBQUFFLElBQVQsQUFBTyxBQUFTO0FBRDlCO2FBQUEsQUFFTzs4QkFBb0IsVUFBQSxBQUFDLEdBQUQsQUFBRzttQkFBTSxFQUFFLEdBQUYsQUFBRSxJQUFGLEFBQVMsR0FBbEIsQUFBUyxBQUFZO0FBRmhELEFBRWMsQUFBTyxXQUFBLENBQVA7YUFGZCxBQUdPOytCQUFxQixVQUFBLEFBQUMsR0FBRCxBQUFHLEdBQUgsQUFBSzttQkFBTSxFQUFFLEdBQUYsQUFBRSxJQUFGLEFBQVMsR0FBVCxBQUFZLEdBQXZCLEFBQVcsQUFBZTtBQUh0RCxBQUdjLEFBQVEsV0FBQSxDQUFSOztpQkFDUCxVQUFBLEdBQUEsQUFBQzttQkFBVSxFQUFFLEdBQUYsQUFBRSxJQUFPLEdBQXBCLEFBQVcsQUFBUztBQVA3QixBQUdFOztBQUpBO0FBREU7OztBQVdSLFFBdURBLEFBQXFDLFFBdkRqQzs7QUFFSixRQXFEQSxBQUF3QyxnQ0FyRHJCLFVBQUEsQUFBQyxJQUFELEFBQUssSUFDdEI7TUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBO0FBQUEsTUFBSSxBQUNKOztBQUFBLE9BQUEsaUNBQUE7O0FBQ0UsUUFBRyxNQUFILEFBQVE7bUJBQ04sQUFBRyxHQURMLEFBQ0s7QUFETCxXQUFBO21CQUFBLEFBR0U7QUFKSjtBQUFBO1NBRmlCO0FBQU4sQ0FBQTs7QUFRYixRQTZDQSxBQUNFLG9CQTlDUSxVQUFBLEFBQUMsR0FBRCxHQUFBLEFBQUk7U0FDWixVQUFBLEdBQUEsQUFBQztXQUFVLEVBQUUsR0FBQyxXQUFBLEFBQVcsSUFBekIsQUFBVyxBQUFFLEFBQUMsQUFBZTtBQURyQjs7O0FBR1YsUUEwQ0EsQUFDVyxjQTNDSixVQUFBLEFBQUMsR0FDTjtVQUFPLEFBQUMsRUFBUixBQUFTO1NBQVQsQUFDTzthQURQLEFBQ2M7U0FEZCxBQUVPO2FBQU8sVUFBQSxBQUFDLEdBQUQsQUFBSTtlQUFNLEVBQUEsQUFBRSxHQUFaLEFBQVUsQUFBSztBQUY3QjtTQUFBLEFBR087YUFBTyxVQUFBLEFBQUMsR0FBRCxBQUFJLEdBQUosQUFBTztlQUFNLEVBQUEsQUFBRSxHQUFGLEFBQUssR0FBbEIsQUFBYSxBQUFRO0FBSG5DOzthQUlPLFVBQUEsR0FBQSxBQUFDO2VBQVUsRUFBRSxHQUFBLEFBQUUsR0FBZixBQUFXLEFBQUUsQUFBRztBQUxsQixBQUNMOzs7O0FBTUYsUUFtQ0EsQUFDaUIsb0JBcENQLFVBQUEsR0FBQSxBQUFDLElBQ1Q7TUFBQSxHQUFBLEdBQUEsR0FBQTt5RkFEZ0I7QUFDaEIsTUFBRyxBQUFFLEdBQUYsQUFBRyxXQUFOLEFBQWdCO1dBQWhCLEFBQ0U7QUFERixTQUFBO0FBR0UsUUFBSSxRQUFRLEdBQVIsQUFBUTtXQUNaLFVBQUEsR0FBQSxBQUFDLElBQ0M7VUFBQSxLQUFBO0FBQUEsVUFBRywwREFBSDtlQUFnQyxBQUFHLElBQUgsQUFBSSxLQUFwQyxBQUFnQyxBQUFTO0FBQXpDLGFBQUE7ZUFBa0QsRUFBbEQsQUFBa0QsQUFBRTtBQUR0RDtBQUpGO0FBRFE7OztBQVFWLFFBMkJBLEFBQzBCLGNBNUJuQixLQUFBLEFBQUs7O0FBRVosUUF5QkEsQUFDZ0Msa0JBMUJ2QixVQUFBLEFBQUM7U0FBTSxVQUFBLEFBQUM7V0FBTyxFQUFFLEdBQVYsQUFBUSxBQUFFO0FBQWpCOzs7QUFFVCxRQXVCQSxBQUN3QyxnQkF4QmhDLFVBQUEsQUFBQztTQUFNLFVBQUEsQUFBQztXQUFNLEVBQVAsQUFBTyxBQUFFO0FBQWhCOzs7QUFFUixRQXFCQSxBQUMrQyxrQkF0QnRDLFVBQUEsQUFBQztTQUFNLFVBQUEsQUFBQyxHQUFELEFBQUc7V0FBTSxFQUFFLEdBQVgsQUFBUyxBQUFFO0FBQWxCOzs7QUFFVCxRQW1CQSxBQUN1RCxvQkFwQjdDLFVBQUEsQUFBQztTQUFNLFVBQUEsQUFBQyxHQUFELEFBQUcsR0FBSCxBQUFLO1dBQU0sRUFBRSxHQUFiLEFBQVcsQUFBRTtBQUFwQjs7O0FBRVYsUUFpQkEsQUFFRSxnQkFuQk0sVUFBQSxBQUFDLEdBQUQsR0FBQSxBQUFJO1NBQWEsRUFBRSxHQUFuQixBQUFpQixBQUFFOzs7QUFFM0IsUUFlQSxBQUVTLGtCQWpCQSxVQUFBLEFBQUM7U0FBTTtXQUFHLEFBQUMsQ0FBQyxFQUFFLEdBQVAsQUFBSSxBQUFDLEFBQUU7QUFBZDs7O0FBRVQsUUFhQSxBQUU0QixnQkFmcEIsVUFBQSxHQUFBLEFBQUMsTUFBZTtNQUFBLEdBQUEsR0FBQTs2RkFBTjtTQUFNLEVBQUUsR0FBbEIsQUFBZ0IsQUFBRTs7O0FBRTFCLFFBV0EsQUFFdUIsWUFiakIsVUFBQSxBQUFDO1NBQU0sVUFBQSxBQUFDLE9BQUQsR0FBQSxBQUFRO0FBQ25CLE1BQUEsQUFBRSxPQUFPLEdBQVQsQUFBUztXQURFLEFBRVg7QUFGSTs7O0FBSU4sUUFPQSxBQUVpQixjQVRWLFVBQUEsQUFBQztTQUNILFVBQUEsQUFBQztXQUNGO0FBQUcsVUFBRyxLQUFIO2VBQUEsQUFBVztBQUFYLGFBQUE7ZUFBbUIsSUFBbkIsQUFBdUI7QUFBMUI7QUFEQztBQUFILEFBQUcsR0FBQSxDQUFHLEtBREQsQUFDTDs7O0FBR0YsUUFHQSxBQUVtQyxvQkFMekIsVUFBQSxBQUFDO1NBQ04sVUFBQSxBQUFDO1dBQWEsVUFBQSxHQUFBLEFBQUM7bUNBQVksQUFBTSxNQUFBLFFBQU4sQUFBTSxNQUFBLFFBQVMsRUFBRSxHQUE5QixBQUE0QixBQUFFO0FBQTVDO0FBQUgsQUFBRyxHQUFBLENBREssQUFDUixBQUFVO0FBRVoiLCJzb3VyY2VzQ29udGVudCI6WyJub09wID0gLT5cblxuaWRlbnRpdHkgPSAoeCkgLT4geFxuXG53cmFwID0gKHgpIC0+IC0+IHhcblxuY3VycnkgPSAoZikgLT5cbiAgZyA9IChheC4uLikgLT5cbiAgICBpZiBheC5sZW5ndGggPj0gZi5sZW5ndGhcbiAgICAgIGYgYXguLi5cbiAgICBlbHNlXG4gICAgICBzd2l0Y2ggZi5sZW5ndGggLSBheC5sZW5ndGhcbiAgICAgICAgd2hlbiAxIHRoZW4gKHgpIC0+IGYgYXguLi4sIHhcbiAgICAgICAgd2hlbiAyIHRoZW4gYmluYXJ5IGN1cnJ5ICh4LHkpIC0+IGYgYXguLi4sIHgsIHlcbiAgICAgICAgd2hlbiAzIHRoZW4gdGVybmFyeSBjdXJyeSAoeCx5LHopIC0+IGYgYXguLi4sIHgsIHksIHpcbiAgICAgICAgZWxzZSAoYnguLi4pIC0+IGcgYXguLi4sIGJ4Li4uXG5cbl8gPSB7fVxuXG5zdWJzdGl0dXRlID0gY3VycnkgKGF4LCBieCkgLT5cbiAgaSA9IDBcbiAgZm9yIGEgaW4gYXhcbiAgICBpZiBhID09IF9cbiAgICAgIGJ4W2krK11cbiAgICBlbHNlXG4gICAgICBhXG5cbnBhcnRpYWwgPSAoZiwgYXguLi4pIC0+XG4gIChieC4uLikgLT4gZiAoc3Vic3RpdHV0ZSBheCwgYngpLi4uXG5cbmZsaXAgPSAoZikgLT5cbiAgc3dpdGNoIGYubGVuZ3RoXG4gICAgd2hlbiAxIHRoZW4gZlxuICAgIHdoZW4gMiB0aGVuICh5LCB4KSAtPiBmKHgsIHkpXG4gICAgd2hlbiAzIHRoZW4gKHosIHksIHgpIC0+IGYoeCwgeSwgeilcbiAgICBlbHNlIChheC4uLikgLT4gZihheC5yZXZlcnNlKCkuLi4pXG5cbmNvbXBvc2UgPSAoZnguLi4sIGYpIC0+XG4gIGlmIGZ4Lmxlbmd0aCA9PSAwXG4gICAgZlxuICBlbHNlXG4gICAgZyA9IGNvbXBvc2UgZnguLi5cbiAgICAoYXguLi4pIC0+XG4gICAgICBpZiAoZmF4ID0gZiBheC4uLik/LnRoZW4/IHRoZW4gKGZheC50aGVuIGcpIGVsc2UgKGcgZmF4KVxuXG5waXBlID0gZmxpcCBjb21wb3NlXG5cbnNwcmVhZCA9IChmKSAtPiAoYXgpIC0+IGYgYXguLi5cblxudW5hcnkgPSAoZikgLT4gKHgpIC0+IGYoeClcblxuYmluYXJ5ID0gKGYpIC0+ICh4LHkpIC0+IGYgYXJndW1lbnRzLi4uXG5cbnRlcm5hcnkgPSAoZikgLT4gKHgseSx6KSAtPiBmIGFyZ3VtZW50cy4uLlxuXG5hcHBseSA9IChmLCBhcmdzLi4uKSAtPiAoZiBhcmdzLi4uKVxuXG5uZWdhdGUgPSAoZikgLT4gLT4gIShmIGFyZ3VtZW50cy4uLilcblxuZ2l2ZW4gPSAoYXJncy4uLiwgZikgLT4gZiBhcmdzLi4uXG5cbnRlZSA9IChmKSAtPiAoZmlyc3QsIHJlc3QuLi4pIC0+XG4gIGYgZmlyc3QsIHJlc3QuLi5cbiAgZmlyc3Rcblxub25jZSA9IChmKSAtPlxuICBkbyAoaz11bmRlZmluZWQpIC0+XG4gICAgLT4gaWYgaz8gdGhlbiBrIGVsc2UgKGsgPSBmKCkpXG5cbm1lbW9pemUgPSAoZikgLT5cbiAgZG8gKGNhY2hlPXt9KSAtPiAoYXJncy4uLikgLT4gY2FjaGVbYXJnc10gPz0gZiBhcmdzLi4uXG5cbmV4cG9ydCB7bm9PcCwgaWRlbnRpdHksIHdyYXAsIGN1cnJ5LCBfLCBzdWJzdGl0dXRlLFxuICBwYXJ0aWFsLCBmbGlwLCBjb21wb3NlLCBwaXBlLCBzcHJlYWQsIHVuYXJ5LCBiaW5hcnksIHRlcm5hcnksXG4gIGFwcGx5LCBuZWdhdGUsIG9uY2UsIHRlZSwgZ2l2ZW4sIG1lbW9pemV9XG4iXX0=
//# sourceURL=index.coffee