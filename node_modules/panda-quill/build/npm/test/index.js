"use strict";

var _fs = _interopRequireWildcard(require("fs"));

var _path = require("path");

var _assert = _interopRequireDefault(require("assert"));

var _amen = require("amen");

var _pandaParchment = require("panda-parchment");

var _index = require("../src/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

var testDirectory,
    indexOf = [].indexOf;
testDirectory = (0, _path.resolve)("test", "data");

(async function () {
  (0, _amen.print)((await (0, _amen.test)("Panda Quill", [(0, _amen.test)("isReadable", function () {
    return (0, _assert.default)((0, _index.isReadable)(process.stdin));
  }), (0, _amen.test)("isWritable", function () {
    return (0, _assert.default)((0, _index.isWritable)(process.stdout));
  }), (0, _amen.test)("stat", async function () {
    var info;
    info = await (0, _index.stat)((0, _path.join)(testDirectory, "lines.txt"));
    return (0, _assert.default)(info.mode != null && info.uid != null && info.gid != null && info.size != null && info.atime != null && info.mtime != null && info.ctime != null);
  }), (0, _amen.test)("exists", async function () {
    _assert.default.equal((await (0, _index.exists)((0, _path.join)(testDirectory, "lines.txt"))), true);

    return _assert.default.equal((await (0, _index.exists)((0, _path.join)(testDirectory, "does-not-exist"))), false);
  }), (0, _amen.test)("read", function () {
    var path, target;
    path = (0, _path.join)(testDirectory, "pandas.txt");
    target = "Pandas love bamboo.\n";
    return [(0, _amen.test)("files", async function () {
      return (0, _assert.default)((await (0, _index.read)(path)) === target);
    }), (0, _amen.test)("buffer", async function () {
      return (0, _assert.default)((await (0, _index.read)(path, "buffer")).toString() === target);
    }), (0, _amen.test)("streams", async function () {
      var stream;
      stream = _fs.default.createReadStream(path);
      return (0, _assert.default)((await (0, _index.read)(stream)) === target);
    })];
  }()), (0, _amen.test)("write", function () {
    return [(0, _amen.test)("string", async function () {
      var currentTime, path;
      path = (0, _path.join)(testDirectory, "time.txt");
      currentTime = Date.now().toString();
      await (0, _index.write)(path, currentTime);
      return (0, _assert.default)((await (0, _index.read)(path)) === currentTime);
    }), (0, _amen.test)("buffer", async function () {
      var path, sampleText;
      path = (0, _path.join)(testDirectory, "buffer.txt");
      sampleText = "Pandas love bamboo.";
      await (0, _index.write)(path, Buffer.from(sampleText));
      return (0, _assert.default)((await (0, _index.read)(path)) === sampleText);
    }), (0, _amen.test)("stream")];
  }()), (0, _amen.test)("readDir", async function () {
    var files;
    files = await (0, _index.readDir)(testDirectory);
    (0, _assert.default)(indexOf.call(files, "lines.txt") >= 0);
    return (0, _assert.default)(indexOf.call(files, "pandas.txt") >= 0);
  }), (0, _amen.test)("ls", async function () {
    var paths, ref, ref1;
    paths = await (0, _index.ls)(testDirectory);
    (0, _assert.default)((ref = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref) >= 0));
    return (0, _assert.default)((ref1 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref1) >= 0));
  }), (0, _amen.test)("lsR", async function () {
    var paths, ref, ref1, ref2;
    paths = await (0, _index.lsR)(testDirectory);
    (0, _assert.default)((ref = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref) >= 0));
    (0, _assert.default)((ref1 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref1) >= 0));
    return (0, _assert.default)((ref2 = (0, _path.join)(testDirectory, "lsr", "pandas.txt"), indexOf.call(paths, ref2) >= 0));
  }), (0, _amen.test)("rmR", function () {
    // minimal test here, just make sure fn is exported
    (0, _assert.default)((0, _pandaParchment.isFunction)(_index.rmr));
    return (0, _assert.default)((0, _pandaParchment.isFunction)(_index.rmR));
  }), (0, _amen.test)("glob", async function () {
    var paths, ref, ref1, ref2, ref3, ref4, ref5;
    paths = await (0, _index.glob)("**/*.txt", testDirectory);
    (0, _assert.default)((ref = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref) >= 0));
    (0, _assert.default)((ref1 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref1) >= 0));
    (0, _assert.default)((ref2 = (0, _path.join)(testDirectory, "lsr", "pandas.txt"), indexOf.call(paths, ref2) >= 0));
    paths = await (0, _index.glob)("data/*.txt", (0, _path.resolve)("test"));
    (0, _assert.default)((ref3 = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref3) >= 0));
    (0, _assert.default)((ref4 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref4) >= 0));
    return (0, _assert.default)(!(ref5 = (0, _path.join)(testDirectory, "lsr", "pandas.txt"), indexOf.call(paths, ref5) >= 0));
  }), (0, _amen.test)("chdir", function () {
    var cwd;
    cwd = process.cwd();
    return [(0, _amen.test)("with restore", function () {
      var restore;
      restore = (0, _index.chdir)(testDirectory);
      (0, _assert.default)(process.cwd() === testDirectory);
      (0, _assert.default)(restore.call != null);
      restore();
      return (0, _assert.default)(process.cwd() === cwd);
    }), (0, _amen.test)("with function", function () {
      var wd;
      wd = void 0;
      (0, _index.chdir)(testDirectory, function () {
        return wd = process.cwd();
      });
      (0, _assert.default)(wd === testDirectory);
      return (0, _assert.default)(process.cwd() === cwd);
    })];
  }()), (0, _amen.test)("mv", async function () {
    var from, to;
    from = (0, _path.join)(testDirectory, "mv", "pandas.txt");
    to = (0, _path.join)(testDirectory, "mv", "bamboo.txt"); // move from -> to

    await (0, _index.mv)(from, to);
    (0, _assert.default)(!(await (0, _index.exist)(from)));
    (0, _assert.default)((await (0, _index.exist)(to))); // now reverse it

    await (0, _index.mv)(to, from);
    (0, _assert.default)(!(await (0, _index.exist)(to)));
    return (0, _assert.default)((await (0, _index.exist)(from)));
  }), (0, _amen.test)("cp/rm", async function () {
    var from, to;
    from = (0, _path.join)(testDirectory, "pandas.txt");
    to = (0, _path.join)(testDirectory, "bamboo.txt"); // cp from -> to

    await (0, _index.cp)(from, to);
    (0, _assert.default)((await (0, _index.exist)(from)));
    (0, _assert.default)((await (0, _index.exist)(to))); // now reverse it

    await (0, _index.rm)(to);
    return (0, _assert.default)(!(await (0, _index.exist)(to)));
  }), (0, _amen.test)("mkDir/rmDir", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "mkdir");
    await (0, _index.mkDir)("0777", path);
    (0, _assert.default)((await (0, _index.exist)(path)));
    await (0, _index.rmDir)(path);
    return (0, _assert.default)(!(await (0, _index.exist)(path)));
  }), (0, _amen.test)("mkDirP", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "mkdirp", "nested");
    await (0, _index.mkDirP)("0777", path);
    (0, _assert.default)((await (0, _index.exist)(path))); // cleanup

    await (0, _index.rmDir)((0, _path.join)(testDirectory, "mkdirp", "nested"));
    await (0, _index.rmDir)((0, _path.join)(testDirectory, "mkdirp"));
    return (0, _assert.default)(!(await (0, _index.exist)(path)));
  }), (0, _amen.test)("isDirectory", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "pandas.txt");
    (0, _assert.default)((await (0, _index.isDirectory)(testDirectory)));
    return (0, _assert.default)(!(await (0, _index.isDirectory)(path)));
  }), (0, _amen.test)("isFile", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "pandas.txt");
    (0, _assert.default)((await (0, _index.isFile)(path)));
    return (0, _assert.default)(!(await (0, _index.isFile)(testDirectory)));
  }), (0, _amen.test)("abort", function () {
    return (0, _assert.default)((0, _pandaParchment.isFunction)(_index.abort));
  }), (0, _amen.test)("print", function () {
    return (0, _assert.default)((0, _pandaParchment.isFunction)(_index.print));
  }), (0, _amen.test)("run", async function () {
    return _assert.default.equal("hello", (await (0, _index.run)("bash -c 'echo -n hello'")).stdout);
  })])));
  return process.exit(_amen.success ? 0 : 1);
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9SZXBvc2l0b3JpZXMvcGFuZGEtcXVpbGwvdGVzdC9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7O0FBUEEsSUFBQSxhQUFBO0FBQUEsSUFBQSxPQUFBLEdBQUEsR0FBQSxPQUFBO0FBY0EsYUFBQSxHQUFnQixtQkFBQSxNQUFBLEVBQUEsTUFBQSxDQUFoQjs7QUFFRyxDQUFBLGtCQUFBO0FBRUQsb0JBQU8sTUFBTSxnQkFBQSxhQUFBLEVBQXFCLENBRWhDLGdCQUFBLFlBQUEsRUFBbUIsWUFBQTtXQUNqQixxQkFBTyx1QkFBVyxPQUFPLENBQXpCLEtBQU8sQ0FBUCxDO0FBSDhCLEdBRWhDLENBRmdDLEVBS2hDLGdCQUFBLFlBQUEsRUFBbUIsWUFBQTtXQUNqQixxQkFBTyx1QkFBVyxPQUFPLENBQXpCLE1BQU8sQ0FBUCxDO0FBTjhCLEdBS2hDLENBTGdDLEVBUWhDLGdCQUFBLE1BQUEsRUFBYSxrQkFBQTtBQUNYLFFBQUEsSUFBQTtBQUFBLElBQUEsSUFBQSxHQUFPLE1BQU0saUJBQUssZ0JBQUEsYUFBQSxFQUFYLFdBQVcsQ0FBTCxDQUFiO1dBQ0EscUJBQU8sSUFBQSxDQUFBLElBQUEsSUFBQSxJQUFBLElBQWMsSUFBQSxDQUFBLEdBQUEsSUFBZCxJQUFBLElBQTJCLElBQUEsQ0FBQSxHQUFBLElBQTNCLElBQUEsSUFBd0MsSUFBQSxDQUFBLElBQUEsSUFBeEMsSUFBQSxJQUNMLElBQUEsQ0FBQSxLQUFBLElBREssSUFBQSxJQUNVLElBQUEsQ0FBQSxLQUFBLElBRFYsSUFBQSxJQUN5QixJQUFBLENBQUEsS0FBQSxJQURoQyxJQUFBLEM7QUFWOEIsR0FRaEMsQ0FSZ0MsRUFhaEMsZ0JBQUEsUUFBQSxFQUFlLGtCQUFBO0FBQ2Isb0JBQUEsS0FBQSxFQUFjLE1BQU0sbUJBQU8sZ0JBQUEsYUFBQSxFQUEzQixXQUEyQixDQUFQLENBQXBC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RSxNQUFNLG1CQUFmLGFBQWUsQ0FBUixDQUFQLEM7QUF0SzhCLEdBbUtoQyxDQW5LZ0MsRUF3S2xDLGdCQUFBLE9BQUEsRUFBYyxZQUFBO1dBQ1oscUJBQU8sZ0NBQVAsWUFBTyxDQUFQLEM7QUF6S2dDLEdBd0tsQyxDQXhLa0MsRUEyS2xDLGdCQUFBLE9BQUEsRUFBYyxZQUFBO1dBQ1oscUJBQU8sZ0NBQVAsWUFBTyxDQUFQLEM7QUE1S2dDLEdBMktsQyxDQTNLa0MsRUE4S2xDLGdCQUFBLEtBQUEsRUFBWSxrQkFBQTtXQUNWLGdCQUFBLEtBQUEsQ0FBQSxPQUFBLEVBQ0UsQ0FBQyxNQUFNLGdCQUFQLHlCQUFPLENBQVAsRUFERixNQUFBLEM7QUEvS2dDLEdBOEtsQyxDQTlLa0MsQ0FBckIsQ0FBYjtTQW9MQSxPQUFPLENBQVAsSUFBQSxDQUFhLGdCQUFBLENBQUEsR0FBYixDQUFBLEM7QUF0TEYsQ0FBRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlUmVhZFN0cmVhbX0gZnJvbSBcImZzXCJcbmltcG9ydCB7cmVzb2x2ZSwgam9pbn0gZnJvbSBcInBhdGhcIlxuaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCJcbmltcG9ydCB7cHJpbnQgYXMgX3ByaW50LCB0ZXN0LCBzdWNjZXNzfSBmcm9tIFwiYW1lblwiXG5pbXBvcnQgZnMgZnJvbSBcImZzXCJcbmltcG9ydCB7aXNGdW5jdGlvbn0gZnJvbSBcInBhbmRhLXBhcmNobWVudFwiXG5cbmltcG9ydCB7aXNSZWFkYWJsZSwgaXNXcml0YWJsZSxcbiAgcmVhZCwgd3JpdGUsIHJtLCBzdGF0LCBleGlzdCwgZXhpc3RzLFxuICBpc0ZpbGUsIGlzRGlyZWN0b3J5LCByZWFkZGlyLCByZWFkRGlyLFxuICBscywgbHNSLCBsc3IsIGdsb2IsIG1rZGlyLCBta0RpciwgbWtkaXJwLCBta0RpclAsXG4gIGNoZGlyLCBjaERpciwgcm1kaXIsIHJtRGlyLCBybVIsIHJtcixcbiAgY3AsIG12LCBydW4sIHByaW50LCBhYm9ydH0gZnJvbSBcIi4uL3NyYy9pbmRleC5qc1wiXG5cbnRlc3REaXJlY3RvcnkgPSByZXNvbHZlIFwidGVzdFwiLCBcImRhdGFcIlxuXG5kbyAtPlxuXG4gIF9wcmludCBhd2FpdCB0ZXN0IFwiUGFuZGEgUXVpbGxcIiwgIFtcblxuICAgIHRlc3QgXCJpc1JlYWRhYmxlXCIsIC0+XG4gICAgICBhc3NlcnQgaXNSZWFkYWJsZSBwcm9jZXNzLnN0ZGluXG5cbiAgICB0ZXN0IFwiaXNXcml0YWJsZVwiLCAtPlxuICAgICAgYXNzZXJ0IGlzV3JpdGFibGUgcHJvY2Vzcy5zdGRvdXRcblxuICAgIHRlc3QgXCJzdGF0XCIsIC0+XG4gICAgICBpbmZvID0gYXdhaXQgc3RhdCBqb2luIHRlc3REaXJlY3RvcnksIFwibGluZXMudHh0XCJcbiAgICAgIGFzc2VydCBpbmZvLm1vZGU/ICYmIGluZm8udWlkPyAmJiBpbmZvLmdpZD8gJiYgaW5mby5zaXplPyAmJlxuICAgICAgICBpbmZvLmF0aW1lPyAmJiBpbmZvLm10aW1lPyAmJiBpbmZvLmN0aW1lP1xuXG4gICAgdGVzdCBcImV4aXN0c1wiLCAtPlxuICAgICAgYXNzZXJ0LmVxdWFsIChhd2FpdCBleGlzdHMgam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxpbmVzLnR4dFwiKSwgdHJ1ZVxuICAgICAgYXNzZXJ0LmVxdWFsIChhd2FpdCBleGlzdHMgam9pbiB0ZXN0RGlyZWN0b3J5LCBcImRvZXMtbm90LWV4aXN0XCIpLCBmYWxzZVxuXG4gICAgdGVzdCBcInJlYWRcIiwgZG8gLT5cblxuICAgICAgcGF0aCA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCJcbiAgICAgIHRhcmdldCA9IFwiUGFuZGFzIGxvdmUgYmFtYm9vLlxcblwiXG5cbiAgICAgIFtcbiAgICAgICAgdGVzdCBcImZpbGVzXCIsIC0+XG4gICAgICAgICAgYXNzZXJ0IChhd2FpdCByZWFkIHBhdGgpID09IHRhcmdldFxuXG4gICAgICAgIHRlc3QgXCJidWZmZXJcIiwgLT5cbiAgICAgICAgICBhc3NlcnQgKGF3YWl0IHJlYWQgcGF0aCwgXCJidWZmZXJcIikudG9TdHJpbmcoKSA9PSB0YXJnZXRcblxuICAgICAgICB0ZXN0IFwic3RyZWFtc1wiLCAtPlxuICAgICAgICAgIHN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0gcGF0aFxuICAgICAgICAgIGFzc2VydCAoYXdhaXQgcmVhZCBzdHJlYW0pID09IHRhcmdldFxuICAgICAgXVxuXG5cbiAgICB0ZXN0IFwid3JpdGVcIiwgZG8gLT5cblxuICAgICAgW1xuXG4gICAgICAgIHRlc3QgXCJzdHJpbmdcIiwgLT5cbiAgICAgICAgICBwYXRoID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcInRpbWUudHh0XCJcbiAgICAgICAgICBjdXJyZW50VGltZSA9IERhdGUubm93KCkudG9TdHJpbmcoKVxuICAgICAgICAgIGF3YWl0IHdyaXRlIHBhdGgsIGN1cnJlbnRUaW1lXG4gICAgICAgICAgYXNzZXJ0IChhd2FpdCByZWFkIHBhdGgpID09IGN1cnJlbnRUaW1lXG5cbiAgICAgICAgdGVzdCBcImJ1ZmZlclwiLCAtPlxuICAgICAgICAgIHBhdGggPSBqb2luIHRlc3REaXJlY3RvcnksIFwiYnVmZmVyLnR4dFwiXG4gICAgICAgICAgc2FtcGxlVGV4dCA9IFwiUGFuZGFzIGxvdmUgYmFtYm9vLlwiXG4gICAgICAgICAgYXdhaXQgd3JpdGUgcGF0aCwgQnVmZmVyLmZyb20gc2FtcGxlVGV4dFxuICAgICAgICAgIGFzc2VydCAoYXdhaXQgcmVhZCBwYXRoKSA9PSBzYW1wbGVUZXh0XG5cbiAgICAgICAgdGVzdCBcInN0cmVhbVwiXG5cbiAgICAgIF1cblxuICAgIHRlc3QgXCJyZWFkRGlyXCIsIC0+XG4gICAgICBmaWxlcyA9IGF3YWl0IHJlYWREaXIgdGVzdERpcmVjdG9yeVxuICAgICAgYXNzZXJ0IFwibGluZXMudHh0XCIgaW4gZmlsZXNcbiAgICAgIGFzc2VydCBcInBhbmRhcy50eHRcIiBpbiBmaWxlc1xuXG4gICAgdGVzdCBcImxzXCIsIC0+XG4gICAgICBwYXRocyA9IGF3YWl0IGxzIHRlc3REaXJlY3RvcnlcbiAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxpbmVzLnR4dFwiKSBpbiBwYXRoc1xuICAgICAgYXNzZXJ0IChqb2luIHRlc3REaXJlY3RvcnksIFwicGFuZGFzLnR4dFwiKSBpbiBwYXRoc1xuXG4gICAgdGVzdCBcImxzUlwiLCAtPlxuICAgICAgcGF0aHMgPSBhd2FpdCBsc1IgdGVzdERpcmVjdG9yeVxuICAgICAgYXNzZXJ0IChqb2luIHRlc3REaXJlY3RvcnksIFwibGluZXMudHh0XCIpIGluIHBhdGhzXG4gICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCIpIGluIHBhdGhzXG4gICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJsc3JcIiwgXCJwYW5kYXMudHh0XCIpIGluIHBhdGhzXG5cbiAgICB0ZXN0IFwicm1SXCIsIC0+XG4gICAgICAjIG1pbmltYWwgdGVzdCBoZXJlLCBqdXN0IG1ha2Ugc3VyZSBmbiBpcyBleHBvcnRlZFxuICAgICAgYXNzZXJ0IGlzRnVuY3Rpb24gcm1yXG4gICAgICBhc3NlcnQgaXNGdW5jdGlvbiBybVJcblxuICAgIHRlc3QgXCJnbG9iXCIsIC0+XG4gICAgICAgcGF0aHMgPSBhd2FpdCBnbG9iIFwiKiovKi50eHRcIiwgdGVzdERpcmVjdG9yeVxuICAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxpbmVzLnR4dFwiKSBpbiBwYXRoc1xuICAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIikgaW4gcGF0aHNcbiAgICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJsc3JcIiwgXCJwYW5kYXMudHh0XCIpIGluIHBhdGhzXG5cbiAgICAgICBwYXRocyA9IGF3YWl0IGdsb2IgXCJkYXRhLyoudHh0XCIsIHJlc29sdmUgXCJ0ZXN0XCJcbiAgICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJsaW5lcy50eHRcIikgaW4gcGF0aHNcbiAgICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCIpIGluIHBhdGhzXG4gICAgICAgYXNzZXJ0ICEoKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJsc3JcIiwgXCJwYW5kYXMudHh0XCIpIGluIHBhdGhzKVxuXG4gICAgdGVzdCBcImNoZGlyXCIsIGRvIC0+XG5cbiAgICAgIGN3ZCA9IHByb2Nlc3MuY3dkKClcblxuICAgICAgW1xuXG4gICAgICAgIHRlc3QgXCJ3aXRoIHJlc3RvcmVcIiwgLT5cbiAgICAgICAgICByZXN0b3JlID0gY2hkaXIgdGVzdERpcmVjdG9yeVxuICAgICAgICAgIGFzc2VydCBwcm9jZXNzLmN3ZCgpID09IHRlc3REaXJlY3RvcnlcbiAgICAgICAgICBhc3NlcnQgcmVzdG9yZS5jYWxsP1xuICAgICAgICAgIHJlc3RvcmUoKVxuICAgICAgICAgIGFzc2VydCBwcm9jZXNzLmN3ZCgpID09IGN3ZFxuXG4gICAgICAgIHRlc3QgXCJ3aXRoIGZ1bmN0aW9uXCIsIC0+XG4gICAgICAgICAgd2QgPSB1bmRlZmluZWRcbiAgICAgICAgICBjaGRpciB0ZXN0RGlyZWN0b3J5LCAtPiB3ZCA9IHByb2Nlc3MuY3dkKClcbiAgICAgICAgICBhc3NlcnQgd2QgPT0gdGVzdERpcmVjdG9yeVxuICAgICAgICAgIGFzc2VydCBwcm9jZXNzLmN3ZCgpID09IGN3ZFxuXG4gICAgICBdXG5cbiAgICB0ZXN0IFwibXZcIiwgLT5cblxuICAgICAgZnJvbSA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJtdlwiLCBcInBhbmRhcy50eHRcIlxuICAgICAgdG8gPSBqb2luIHRlc3REaXJlY3RvcnksIFwibXZcIiwgXCJiYW1ib28udHh0XCJcblxuICAgICAgIyBtb3ZlIGZyb20gLT4gdG9cbiAgICAgIGF3YWl0IG12IGZyb20sIHRvXG4gICAgICBhc3NlcnQgIShhd2FpdCBleGlzdCBmcm9tKVxuICAgICAgYXNzZXJ0IGF3YWl0IGV4aXN0IHRvXG5cbiAgICAgICMgbm93IHJldmVyc2UgaXRcbiAgICAgIGF3YWl0IG12IHRvLCBmcm9tXG4gICAgICBhc3NlcnQgIShhd2FpdCBleGlzdCB0bylcbiAgICAgIGFzc2VydCBhd2FpdCBleGlzdCBmcm9tXG5cbiAgICB0ZXN0IFwiY3Avcm1cIiwgLT5cblxuICAgICAgZnJvbSA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCJcbiAgICAgIHRvID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcImJhbWJvby50eHRcIlxuXG4gICAgICAjIGNwIGZyb20gLT4gdG9cbiAgICAgIGF3YWl0IGNwIGZyb20sIHRvXG4gICAgICBhc3NlcnQgYXdhaXQgZXhpc3QgZnJvbVxuICAgICAgYXNzZXJ0IGF3YWl0IGV4aXN0IHRvXG5cbiAgICAgICMgbm93IHJldmVyc2UgaXRcbiAgICAgIGF3YWl0IHJtIHRvXG4gICAgICBhc3NlcnQgIShhd2FpdCBleGlzdCB0bylcblxuICAgIHRlc3QgXCJta0Rpci9ybURpclwiLCAtPlxuXG4gICAgICBwYXRoID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcIm1rZGlyXCJcbiAgICAgIGF3YWl0IG1rRGlyIFwiMDc3N1wiLCBwYXRoXG5cbiAgICAgIGFzc2VydCBhd2FpdCBleGlzdCBwYXRoXG5cbiAgICAgIGF3YWl0IHJtRGlyIHBhdGhcbiAgICAgIGFzc2VydCAhKGF3YWl0IGV4aXN0IHBhdGgpXG5cblxuICAgIHRlc3QgXCJta0RpclBcIiwgLT5cbiAgICAgIHBhdGggPSBqb2luIHRlc3REaXJlY3RvcnksIFwibWtkaXJwXCIsIFwibmVzdGVkXCJcbiAgICAgIGF3YWl0IG1rRGlyUCBcIjA3NzdcIiwgcGF0aFxuICAgICAgYXNzZXJ0IGF3YWl0IGV4aXN0IHBhdGhcblxuICAgICAgIyBjbGVhbnVwXG4gICAgICBhd2FpdCBybURpciBqb2luIHRlc3REaXJlY3RvcnksIFwibWtkaXJwXCIsIFwibmVzdGVkXCJcbiAgICAgIGF3YWl0IHJtRGlyIGpvaW4gdGVzdERpcmVjdG9yeSwgXCJta2RpcnBcIlxuICAgICAgYXNzZXJ0ICEoYXdhaXQgZXhpc3QgcGF0aClcblxuICAgIHRlc3QgXCJpc0RpcmVjdG9yeVwiLCAtPlxuICAgICAgcGF0aCA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCJcbiAgICAgIGFzc2VydCBhd2FpdCBpc0RpcmVjdG9yeSB0ZXN0RGlyZWN0b3J5XG4gICAgICBhc3NlcnQgIShhd2FpdCBpc0RpcmVjdG9yeSBwYXRoKVxuXG4gICAgdGVzdCBcImlzRmlsZVwiLCAtPlxuICAgICAgcGF0aCA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCJcbiAgICAgIGFzc2VydCBhd2FpdCBpc0ZpbGUgcGF0aFxuICAgICAgYXNzZXJ0ICEoYXdhaXQgaXNGaWxlIHRlc3REaXJlY3RvcnkpXG5cbiAgdGVzdCBcImFib3J0XCIsIC0+XG4gICAgYXNzZXJ0IGlzRnVuY3Rpb24gYWJvcnRcblxuICB0ZXN0IFwicHJpbnRcIiwgLT5cbiAgICBhc3NlcnQgaXNGdW5jdGlvbiBwcmludFxuXG4gIHRlc3QgXCJydW5cIiwgLT5cbiAgICBhc3NlcnQuZXF1YWwgXCJoZWxsb1wiLFxuICAgICAgKGF3YWl0IHJ1biBcImJhc2ggLWMgJ2VjaG8gLW4gaGVsbG8nXCIpLnN0ZG91dFxuXG4gIF1cblxuICBwcm9jZXNzLmV4aXQgaWYgc3VjY2VzcyB0aGVuIDAgZWxzZSAxXG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=/Users/david/Repositories/panda-quill/test/index.coffee