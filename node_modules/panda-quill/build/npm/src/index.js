"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.abort = exports.print = exports.run = exports.rmr = exports.rmR = exports.rmDir = exports.rmdir = exports.rm = exports.mv = exports.cp = exports.chDir = exports.chdir = exports.mkDirP = exports.mkdirp = exports.mkDir = exports.mkdir = exports.glob = exports.lsr = exports.lsR = exports.ls = exports.readDir = exports.readdir = exports.isDirectory = exports.isFile = exports.isWritable = exports.isReadable = exports.exists = exports.exist = exports.stat = exports.write = exports.read = void 0;

var _util = require("util");

var _child_process = require("child_process");

var _path2 = require("path");

var _stream = _interopRequireDefault(require("stream"));

var _pandaGarden = require("panda-garden");

var _pandaParchment = require("panda-parchment");

var _pandaGenerics = require("panda-generics");

var _fs = _interopRequireDefault(require("fs"));

var _minimatch = _interopRequireDefault(require("minimatch"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FS,
    abort,
    chDir,
    chdir,
    cp,
    exist,
    exists,
    glob,
    isDirectory,
    isFile,
    isReadable,
    isWritable,
    ls,
    lsR,
    lsr,
    mkDir,
    mkDirP,
    mkdir,
    mkdirp,
    mv,
    print,
    read,
    readBinaryStream,
    readBuffer,
    readDir,
    readStream,
    readdir,
    rm,
    rmDir,
    rmR,
    rmdir,
    rmr,
    run,
    stat,
    write,
    indexOf = [].indexOf;
exports.write = write;
exports.stat = stat;
exports.run = run;
exports.rmr = rmr;
exports.rmdir = rmdir;
exports.rmR = rmR;
exports.rmDir = rmDir;
exports.rm = rm;
exports.readdir = readdir;
exports.readDir = readDir;
exports.read = read;
exports.print = print;
exports.mv = mv;
exports.mkdirp = mkdirp;
exports.mkdir = mkdir;
exports.mkDirP = mkDirP;
exports.mkDir = mkDir;
exports.lsr = lsr;
exports.lsR = lsR;
exports.ls = ls;
exports.isWritable = isWritable;
exports.isReadable = isReadable;
exports.isFile = isFile;
exports.isDirectory = isDirectory;
exports.glob = glob;
exports.exists = exists;
exports.exist = exist;
exports.cp = cp;
exports.chdir = chdir;
exports.chDir = chDir;
exports.abort = abort;

FS = function (result) {
  var key, value;

  for (key in _fs.default) {
    value = _fs.default[key];
    result[key] = (0, _pandaParchment.isFunction)(value) ? (0, _util.promisify)(value) : value;
  }

  return result;
}({}); // we're going to export this


({
  stat
} = FS);
exports.stat = stat;

exports.exists = exists = exports.exist = exist = async function (path) {
  try {
    return (await FS.stat(path)) != null;
  } catch (error1) {
    return false;
  }
};

exports.isDirectory = isDirectory = async function (path) {
  try {
    return (await FS.stat(path)).isDirectory();
  } catch (error1) {
    return false;
  }
};

exports.isFile = isFile = async function (path) {
  try {
    return (await FS.stat(path)).isFile();
  } catch (error1) {
    return false;
  }
};

exports.isReadable = isReadable = function (x) {
  var ref;
  return (x != null ? (ref = x.read) != null ? ref.call : void 0 : void 0) != null;
}; // socket-based streams are duplex streams
// and do not inherit from stream.writable


exports.isWritable = isWritable = function (x) {
  var ref;
  return (x != null ? (ref = x.write) != null ? ref.call : void 0 : void 0) != null;
};

exports.read = read = _pandaGenerics.Method.create();

_pandaGenerics.Method.define(read, _pandaParchment.isString, _pandaParchment.isString, function (path, encoding) {
  return FS.readFile(path, encoding);
});

_pandaGenerics.Method.define(read, _pandaParchment.isString, function (path) {
  return read(path, 'utf8');
});

readBuffer = function (path) {
  return FS.readFile(path);
};

_pandaGenerics.Method.define(read, _pandaParchment.isString, (0, _pandaParchment.eq)(void 0), readBuffer);

_pandaGenerics.Method.define(read, _pandaParchment.isString, (0, _pandaParchment.eq)("binary"), readBuffer);

_pandaGenerics.Method.define(read, _pandaParchment.isString, (0, _pandaParchment.eq)("buffer"), readBuffer); // Stringifies a stream's buffer according to the given encoding.


readStream = function (stream, encoding = "utf8") {
  var buffer;
  buffer = "";
  return (0, _pandaParchment.promise)(function (resolve, reject) {
    stream.on("data", function (data) {
      return buffer += data.toString(encoding);
    });
    stream.on("end", function () {
      return resolve(buffer);
    });
    return stream.on("error", function (error) {
      return reject(error);
    });
  });
}; // Extracts a stream's raw buffer.


readBinaryStream = function (stream) {
  var buffer;
  buffer = new Buffer(0);
  return (0, _pandaParchment.promise)(function (resolve, reject) {
    stream.on("data", function (data) {
      return buffer = Buffer.concat([buffer, data]);
    });
    stream.on("end", function () {
      return resolve(buffer);
    });
    return stream.on("error", function (error) {
      return reject(error);
    });
  });
};

_pandaGenerics.Method.define(read, isReadable, readStream);

_pandaGenerics.Method.define(read, isReadable, _pandaParchment.isString, readStream);

_pandaGenerics.Method.define(read, isReadable, (0, _pandaParchment.eq)(void 0), readBinaryStream);

_pandaGenerics.Method.define(read, isReadable, (0, _pandaParchment.eq)("binary"), readBinaryStream);

_pandaGenerics.Method.define(read, isReadable, (0, _pandaParchment.eq)("buffer"), readBinaryStream);

exports.write = write = _pandaGenerics.Method.create();

_pandaGenerics.Method.define(write, _pandaParchment.isString, _pandaParchment.isBuffer, function (path, buffer) {
  return FS.writeFile(path, buffer);
});

_pandaGenerics.Method.define(write, _pandaParchment.isString, _pandaParchment.isString, function (path, content) {
  return FS.writeFile(path, content);
});

_pandaGenerics.Method.define(write, _pandaParchment.isString, isReadable, function (path, stream) {
  return stream.pipe(_fs.default.createWriteStream(path));
});

_pandaGenerics.Method.define(write, isWritable, _pandaParchment.isString, function (stream, content) {
  return (0, _pandaParchment.promise)(function (resolve, reject) {
    return stream.write(content, "utf-8", function (error) {
      if (error == null) {
        return resolve();
      } else {
        return reject(error);
      }
    });
  });
});

exports.write = write = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(write));

exports.readdir = readdir = exports.readDir = readDir = function (path) {
  return FS.readdir(path);
};

exports.ls = ls = async function (path) {
  var file, i, len, ref, results;
  ref = await readdir(path);
  results = [];

  for (i = 0, len = ref.length; i < len; i++) {
    file = ref[i];
    results.push((0, _path2.join)(path, file));
  }

  return results;
};

exports.lsR = lsR = exports.lsr = lsr = async function (path, visited = []) {
  var child, children, i, len;
  children = await ls(path);

  for (i = 0, len = children.length; i < len; i++) {
    child = children[i];

    if (!(indexOf.call(visited, child) >= 0)) {
      if (await isDirectory(child)) {
        await lsR(child, visited);
      } else {
        visited.push(child);
      }
    }
  }

  return visited;
};

exports.rmR = rmR = exports.rmr = rmr = async function (path) {
  var _path, i, len, paths;

  if (await isDirectory(path)) {
    paths = await ls(path);

    for (i = 0, len = paths.length; i < len; i++) {
      _path = paths[i];
      await rmr(_path);
    }

    return await rmDir(path);
  } else if (await isFile(path)) {
    return await rm(path);
  }
};

exports.glob = glob = async function (pattern, path) {
  return _minimatch.default.match((await lsR(path)), (0, _path2.join)(path, pattern));
};

exports.chDir = chDir = exports.chdir = chdir = _pandaGenerics.Method.create();

_pandaGenerics.Method.define(chdir, _pandaParchment.isString, function (path) {
  var cwd;
  cwd = process.cwd();
  process.chdir(path);
  return function () {
    return process.chdir(cwd);
  };
});

_pandaGenerics.Method.define(chdir, _pandaParchment.isString, _pandaParchment.isFunction, function (path, f) {
  var restore;
  restore = chdir(path);
  f();
  return restore();
});

exports.rm = rm = function (path) {
  return FS.unlink(path);
};

exports.mv = mv = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(function (old, _new) {
  return FS.rename(old, _new);
}));
exports.cp = cp = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(function (old, _new) {
  return (0, _pandaParchment.promise)(function (resolve, reject) {
    return _fs.default.createReadStream(old).pipe(_fs.default.createWriteStream(_new)).on("error", function (error) {
      return reject(error);
    }).on("close", function () {
      return resolve();
    });
  });
}));

exports.rmDir = rmDir = exports.rmdir = rmdir = function (path) {
  return FS.rmdir(path);
};

exports.mkDir = mkDir = exports.mkdir = mkdir = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(function (mode, path) {
  return FS.mkdir(path, mode);
}));
exports.mkDirP = mkDirP = exports.mkdirp = mkdirp = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(async function (mode, path) {
  var error, parent;

  if (!(await exists(path))) {
    parent = (0, _path2.dirname)(path);

    if (!(await exists(parent))) {
      await mkdirp(mode, parent);
    }

    try {
      return await mkdir(mode, path);
    } catch (error1) {
      error = error1;

      if (error.code !== "EEXIST") {
        throw error;
      }
    }
  }
}));

exports.abort = abort = function (message) {
  if (message != null) {
    console.error(message);
  }

  return process.exit(-1);
};

exports.run = run = function (command) {
  return (0, _pandaParchment.promise)(function (resolve, reject) {
    return (0, _child_process.exec)(command, function (error, stdout, stderr) {
      if (error) {
        return reject(error);
      } else {
        return resolve({
          stdout,
          stderr
        });
      }
    });
  });
};

exports.print = print = function ({
  stdout,
  stderr
}) {
  if (stdout.length > 0) {
    process.stdout.write(stdout);
  }

  if (stderr.length > 0) {
    return process.stderr.write(stderr);
  }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9SZXBvc2l0b3JpZXMvcGFuZGEtcXVpbGwvc3JjL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFUQSxJQUFBLEVBQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLEVBQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLE1BQUE7QUFBQSxJQUFBLElBQUE7QUFBQSxJQUFBLFdBQUE7QUFBQSxJQUFBLE1BQUE7QUFBQSxJQUFBLFVBQUE7QUFBQSxJQUFBLFVBQUE7QUFBQSxJQUFBLEVBQUE7QUFBQSxJQUFBLEdBQUE7QUFBQSxJQUFBLEdBQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLE1BQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLE1BQUE7QUFBQSxJQUFBLEVBQUE7QUFBQSxJQUFBLEtBQUE7QUFBQSxJQUFBLElBQUE7QUFBQSxJQUFBLGdCQUFBO0FBQUEsSUFBQSxVQUFBO0FBQUEsSUFBQSxPQUFBO0FBQUEsSUFBQSxVQUFBO0FBQUEsSUFBQSxPQUFBO0FBQUEsSUFBQSxFQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxHQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxHQUFBO0FBQUEsSUFBQSxHQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxPQUFBLEdBQUEsR0FBQSxPQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFXQSxFQUFBLEdBQVEsVUFBQSxNQUFBLEVBQUE7QUFDTixNQUFBLEdBQUEsRUFBQSxLQUFBOztBQUFBLE9BQUEsR0FBQSxJQUFBLFdBQUEsRUFBQTs7QUFDRSxJQUFBLE1BQU8sQ0FBUCxHQUFPLENBQVAsR0FBaUIsZ0NBQUgsS0FBRyxJQUF1QixxQkFB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QUFSLENBQUEsS0FBQSxDQUFBLE1BQUE7OztBQUNBLE1BQStCLE1BQU0sQ0FBTixNQUFBLEdBQS9CLENBQUEsRUFBQTtXQUFBLE9BQU8sQ0FBQyxNQUFSLENBQUEsS0FBQSxDQUFBLE1BQUEsQzs7QUFGTSxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtwcm9taXNpZnl9IGZyb20gXCJ1dGlsXCJcbmltcG9ydCB7ZXhlY30gZnJvbSBcImNoaWxkX3Byb2Nlc3NcIlxuaW1wb3J0IHtqb2luLCBkaXJuYW1lfSBmcm9tIFwicGF0aFwiXG5pbXBvcnQgc3RyZWFtIGZyb20gXCJzdHJlYW1cIlxuaW1wb3J0IHtjdXJyeSwgYmluYXJ5fSBmcm9tIFwicGFuZGEtZ2FyZGVuXCJcbmltcG9ydCB7aXNUeXBlLCBpc0tpbmQsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc1Byb21pc2UsIGlzQnVmZmVyLFxuICBwcm9taXNlLCBlcX0gZnJvbSBcInBhbmRhLXBhcmNobWVudFwiXG5pbXBvcnQge01ldGhvZH0gZnJvbSBcInBhbmRhLWdlbmVyaWNzXCJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIlxuaW1wb3J0IG1pbmltYXRjaCBmcm9tIFwibWluaW1hdGNoXCJcblxuRlMgPSBkbyAocmVzdWx0ID0ge30pIC0+XG4gIGZvciBrZXksIHZhbHVlIG9mIGZzXG4gICAgcmVzdWx0W2tleV0gPSBpZiBpc0Z1bmN0aW9uIHZhbHVlIHRoZW4gKHByb21pc2lmeSB2YWx1ZSkgZWxzZSB2YWx1ZVxuICByZXN1bHRcblxuXG4jIHdlJ3JlIGdvaW5nIHRvIGV4cG9ydCB0aGlzXG57c3RhdH0gPSBGU1xuXG5leGlzdHMgPSBleGlzdCA9ICAocGF0aCkgLT5cbiAgdHJ5XG4gICAgKGF3YWl0IEZTLnN0YXQgcGF0aCk/XG4gIGNhdGNoXG4gICAgZmFsc2VcblxuaXNEaXJlY3RvcnkgPSAgKHBhdGgpIC0+XG4gIHRyeVxuICAgIChhd2FpdCBGUy5zdGF0IHBhdGgpLmlzRGlyZWN0b3J5KClcbiAgY2F0Y2hcbiAgICBmYWxzZVxuXG5pc0ZpbGUgPSAgKHBhdGgpIC0+XG4gIHRyeVxuICAgIChhd2FpdCBGUy5zdGF0IHBhdGgpLmlzRmlsZSgpXG4gIGNhdGNoXG4gICAgZmFsc2VcblxuaXNSZWFkYWJsZSA9ICh4KSAtPiB4Py5yZWFkPy5jYWxsP1xuXG4jIHNvY2tldC1iYXNlZCBzdHJlYW1zIGFyZSBkdXBsZXggc3RyZWFtc1xuIyBhbmQgZG8gbm90IGluaGVyaXQgZnJvbSBzdHJlYW0ud3JpdGFibGVcbmlzV3JpdGFibGUgPSAoeCkgLT4geD8ud3JpdGU/LmNhbGw/XG5cbnJlYWQgPSBNZXRob2QuY3JlYXRlKClcblxuTWV0aG9kLmRlZmluZSByZWFkLCBpc1N0cmluZywgaXNTdHJpbmcsXG4gIChwYXRoLCBlbmNvZGluZykgLT5cbiAgICBGUy5yZWFkRmlsZSBwYXRoLCBlbmNvZGluZ1xuXG5NZXRob2QuZGVmaW5lIHJlYWQsIGlzU3RyaW5nLCAocGF0aCkgLT4gcmVhZCBwYXRoLCAndXRmOCdcblxucmVhZEJ1ZmZlciA9IChwYXRoKSAtPiBGUy5yZWFkRmlsZSBwYXRoXG5NZXRob2QuZGVmaW5lIHJlYWQsIGlzU3RyaW5nLCAoZXEgdW5kZWZpbmVkKSwgcmVhZEJ1ZmZlclxuTWV0aG9kLmRlZmluZSByZWFkLCBpc1N0cmluZywgKGVxIFwiYmluYXJ5XCIpLCByZWFkQnVmZmVyXG5NZXRob2QuZGVmaW5lIHJlYWQsIGlzU3RyaW5nLCAoZXEgXCJidWZmZXJcIiksIHJlYWRCdWZmZXJcblxuIyBTdHJpbmdpZmllcyBhIHN0cmVhbSdzIGJ1ZmZlciBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGVuY29kaW5nLlxucmVhZFN0cmVhbSA9IChzdHJlYW0sIGVuY29kaW5nID0gXCJ1dGY4XCIpIC0+XG4gIGJ1ZmZlciA9IFwiXCJcbiAgcHJvbWlzZSAocmVzb2x2ZSwgcmVqZWN0KSAtPlxuICAgIHN0cmVhbS5vbiBcImRhdGFcIiwgKGRhdGEpIC0+IGJ1ZmZlciArPSBkYXRhLnRvU3RyaW5nKGVuY29kaW5nKVxuICAgIHN0cmVhbS5vbiBcImVuZFwiLCAtPiByZXNvbHZlIGJ1ZmZlclxuICAgIHN0cmVhbS5vbiBcImVycm9yXCIsIChlcnJvcikgLT4gcmVqZWN0IGVycm9yXG5cbiMgRXh0cmFjdHMgYSBzdHJlYW0ncyByYXcgYnVmZmVyLlxucmVhZEJpbmFyeVN0cmVhbSA9IChzdHJlYW0pIC0+XG4gIGJ1ZmZlciA9IG5ldyBCdWZmZXIoMClcbiAgcHJvbWlzZSAocmVzb2x2ZSwgcmVqZWN0KSAtPlxuICAgIHN0cmVhbS5vbiBcImRhdGFcIiwgKGRhdGEpIC0+IGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQgW2J1ZmZlciwgZGF0YV1cbiAgICBzdHJlYW0ub24gXCJlbmRcIiwgLT4gcmVzb2x2ZSBidWZmZXJcbiAgICBzdHJlYW0ub24gXCJlcnJvclwiLCAoZXJyb3IpIC0+IHJlamVjdCBlcnJvclxuXG5NZXRob2QuZGVmaW5lIHJlYWQsIGlzUmVhZGFibGUsIHJlYWRTdHJlYW1cbk1ldGhvZC5kZWZpbmUgcmVhZCwgaXNSZWFkYWJsZSwgaXNTdHJpbmcsIHJlYWRTdHJlYW1cbk1ldGhvZC5kZWZpbmUgcmVhZCwgaXNSZWFkYWJsZSwgKGVxIHVuZGVmaW5lZCksIHJlYWRCaW5hcnlTdHJlYW1cbk1ldGhvZC5kZWZpbmUgcmVhZCwgaXNSZWFkYWJsZSwgKGVxIFwiYmluYXJ5XCIpLCByZWFkQmluYXJ5U3RyZWFtXG5NZXRob2QuZGVmaW5lIHJlYWQsIGlzUmVhZGFibGUsIChlcSBcImJ1ZmZlclwiKSwgcmVhZEJpbmFyeVN0cmVhbVxuXG53cml0ZSA9IE1ldGhvZC5jcmVhdGUoKVxuXG5NZXRob2QuZGVmaW5lIHdyaXRlLCBpc1N0cmluZywgaXNCdWZmZXIsXG4gIChwYXRoLCBidWZmZXIpIC0+IEZTLndyaXRlRmlsZSBwYXRoLCBidWZmZXJcblxuTWV0aG9kLmRlZmluZSB3cml0ZSwgaXNTdHJpbmcsIGlzU3RyaW5nLFxuICAocGF0aCwgY29udGVudCkgLT4gRlMud3JpdGVGaWxlIHBhdGgsIGNvbnRlbnRcblxuTWV0aG9kLmRlZmluZSB3cml0ZSwgaXNTdHJpbmcsIGlzUmVhZGFibGUsXG4gIChwYXRoLCBzdHJlYW0pIC0+IHN0cmVhbS5waXBlIGZzLmNyZWF0ZVdyaXRlU3RyZWFtIHBhdGhcblxuTWV0aG9kLmRlZmluZSB3cml0ZSwgaXNXcml0YWJsZSwgaXNTdHJpbmcsXG4gIChzdHJlYW0sIGNvbnRlbnQpIC0+XG4gICAgcHJvbWlzZSAocmVzb2x2ZSwgcmVqZWN0KSAtPlxuICAgICAgc3RyZWFtLndyaXRlIGNvbnRlbnQsIFwidXRmLThcIiwgKGVycm9yKSAtPlxuICAgICAgICBpZiAhZXJyb3I/XG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZWplY3QgZXJyb3Jcblxud3JpdGUgPSBjdXJyeSBiaW5hcnkgd3JpdGVcblxucmVhZGRpciA9IHJlYWREaXIgPSAocGF0aCkgLT4gRlMucmVhZGRpciBwYXRoXG5cbmxzID0gIChwYXRoKSAtPlxuICAoam9pbiBwYXRoLCBmaWxlKSBmb3IgZmlsZSBpbiAoYXdhaXQgcmVhZGRpciBwYXRoKVxuXG5sc1IgPSBsc3IgPSAgKHBhdGgsIHZpc2l0ZWQgPSBbXSkgLT5cbiAgY2hpbGRyZW4gPSBhd2FpdCBscyBwYXRoXG4gIGZvciBjaGlsZCBpbiBjaGlsZHJlbiB3aGVuICEoY2hpbGQgaW4gdmlzaXRlZClcbiAgICBpZiBhd2FpdCBpc0RpcmVjdG9yeSBjaGlsZFxuICAgICAgYXdhaXQgbHNSIGNoaWxkLCB2aXNpdGVkXG4gICAgZWxzZVxuICAgICAgdmlzaXRlZC5wdXNoIGNoaWxkXG4gIHZpc2l0ZWRcblxucm1SID0gcm1yID0gKHBhdGgpIC0+XG4gIGlmIChhd2FpdCBpc0RpcmVjdG9yeSBwYXRoKVxuICAgIHBhdGhzID0gYXdhaXQgbHMgcGF0aFxuICAgIChhd2FpdCBybXIgX3BhdGgpIGZvciBfcGF0aCBpbiBwYXRoc1xuICAgIGF3YWl0IHJtRGlyIHBhdGhcbiAgZWxzZSBpZiAoYXdhaXQgaXNGaWxlIHBhdGgpXG4gICAgYXdhaXQgcm0gcGF0aFxuXG5nbG9iID0gIChwYXR0ZXJuLCBwYXRoKSAtPlxuICBtaW5pbWF0Y2gubWF0Y2ggKGF3YWl0IGxzUiBwYXRoKSwgKGpvaW4gcGF0aCwgcGF0dGVybilcblxuY2hEaXIgPSBjaGRpciA9IE1ldGhvZC5jcmVhdGUoKVxuXG5NZXRob2QuZGVmaW5lIGNoZGlyLCBpc1N0cmluZywgKHBhdGgpIC0+XG4gIGN3ZCA9IHByb2Nlc3MuY3dkKClcbiAgcHJvY2Vzcy5jaGRpciBwYXRoXG4gIC0+IHByb2Nlc3MuY2hkaXIgY3dkXG5cbk1ldGhvZC5kZWZpbmUgY2hkaXIsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCAocGF0aCwgZikgLT5cbiAgcmVzdG9yZSA9IGNoZGlyIHBhdGhcbiAgZigpXG4gIHJlc3RvcmUoKVxuXG5ybSA9IChwYXRoKSAtPiBGUy51bmxpbmsgcGF0aFxuXG5tdiA9IGN1cnJ5IGJpbmFyeSAob2xkLCBfbmV3KSAtPiBGUy5yZW5hbWUgb2xkLCBfbmV3XG5cbmNwID0gY3VycnkgYmluYXJ5IChvbGQsIF9uZXcpIC0+XG4gIHByb21pc2UgKHJlc29sdmUsIHJlamVjdCkgLT5cbiAgICAoZnMuY3JlYXRlUmVhZFN0cmVhbSBvbGQpXG4gICAgLnBpcGUoZnMuY3JlYXRlV3JpdGVTdHJlYW0gX25ldylcbiAgICAub24gXCJlcnJvclwiLCAoZXJyb3IpIC0+IHJlamVjdCBlcnJvclxuICAgIC5vbiBcImNsb3NlXCIsIC0+IHJlc29sdmUoKVxuXG5ybURpciA9IHJtZGlyID0gKHBhdGgpIC0+IEZTLnJtZGlyIHBhdGhcblxubWtEaXIgPSBta2RpciA9IGN1cnJ5IGJpbmFyeSAobW9kZSwgcGF0aCkgLT4gRlMubWtkaXIgcGF0aCwgbW9kZVxuXG5ta0RpclAgPSBta2RpcnAgPSBjdXJyeSBiaW5hcnkgIChtb2RlLCBwYXRoKSAtPlxuICBpZiAhKGF3YWl0IGV4aXN0cyBwYXRoKVxuICAgIHBhcmVudCA9IGRpcm5hbWUgcGF0aFxuICAgIGlmICEoYXdhaXQgZXhpc3RzIHBhcmVudClcbiAgICAgIGF3YWl0IG1rZGlycCBtb2RlLCBwYXJlbnRcbiAgICB0cnlcbiAgICAgIGF3YWl0IG1rZGlyIG1vZGUsIHBhdGhcbiAgICBjYXRjaCBlcnJvclxuICAgICAgaWYgZXJyb3IuY29kZSAhPSBcIkVFWElTVFwiXG4gICAgICAgIHRocm93IGVycm9yXG5cbmFib3J0ID0gKG1lc3NhZ2UpIC0+XG4gIGNvbnNvbGUuZXJyb3IgbWVzc2FnZSBpZiBtZXNzYWdlP1xuICBwcm9jZXNzLmV4aXQgLTFcblxucnVuID0gKGNvbW1hbmQpIC0+XG4gIHByb21pc2UgKHJlc29sdmUsIHJlamVjdCkgLT5cbiAgICBleGVjIGNvbW1hbmQsIChlcnJvciwgc3Rkb3V0LCBzdGRlcnIpIC0+XG4gICAgICBpZiBlcnJvclxuICAgICAgICByZWplY3QgZXJyb3JcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzb2x2ZSB7c3Rkb3V0LCBzdGRlcnJ9XG5cbnByaW50ID0gKHtzdGRvdXQsIHN0ZGVycn0pIC0+XG4gIHByb2Nlc3Muc3Rkb3V0LndyaXRlIHN0ZG91dCBpZiBzdGRvdXQubGVuZ3RoID4gMFxuICBwcm9jZXNzLnN0ZGVyci53cml0ZSBzdGRlcnIgaWYgc3RkZXJyLmxlbmd0aCA+IDBcblxuZXhwb3J0IHtyZWFkLCB3cml0ZSwgc3RhdCwgZXhpc3QsIGV4aXN0cyxcbiAgaXNSZWFkYWJsZSwgaXNXcml0YWJsZSwgaXNGaWxlLCBpc0RpcmVjdG9yeSxcbiAgcmVhZGRpciwgcmVhZERpciwgbHMsIGxzUiwgbHNyLCBnbG9iLFxuICBta2RpciwgbWtEaXIsIG1rZGlycCwgbWtEaXJQLCBjaGRpciwgY2hEaXIsXG4gIGNwLCBtdiwgcm0sIHJtZGlyLCBybURpciwgcm1SLCBybXIsXG4gIHJ1biwgcHJpbnQsIGFib3J0fVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=/Users/david/Repositories/panda-quill/src/index.coffee