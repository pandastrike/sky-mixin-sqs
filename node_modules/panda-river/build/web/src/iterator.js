var isDone, isIterable, isIterator, iterator, next, value;
import { identity, curry } from "panda-garden";
import { Method } from "panda-generics";
import { isKind, isFunction, isGeneratorFunction } from "panda-parchment";

isIterable = function (x) {
  return isFunction(x != null ? x[Symbol.iterator] : void 0) || isGeneratorFunction(x);
};

isIterator = function (x) {
  return isFunction(x != null ? x.next : void 0) && isIterable(x);
};

iterator = Method.create({
  default: "unable to create iterator from value"
});
Method.define(iterator, isFunction, function (f) {
  return {
    next: f,
    [Symbol.iterator]: function () {
      return this;
    }
  };
});
Method.define(iterator, isIterable, function (i) {
  return i[Symbol.iterator]();
});
Method.define(iterator, isGeneratorFunction, function (g) {
  return g();
});
Method.define(iterator, isIterator, function (i) {
  return i;
});

next = function (i) {
  return i.next();
};

value = function ({
  value
}) {
  return value;
};

isDone = function ({
  done
}) {
  return done;
};

export { isIterable, iterator, isIterator, next, value, isDone };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9keW9kZXIvcmVwb3MvcGFuZGEtcml2ZXIvc3JjL2l0ZXJhdG9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQTtBQUFBLFNBQUEsUUFBQSxFQUFBLEtBQUEsUUFBQSxjQUFBO0FBQ0EsU0FBQSxNQUFBLFFBQUEsZ0JBQUE7QUFDQSxTQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsbUJBQUEsUUFBQSxpQkFBQTs7QUFFQSxVQUFBLEdBQWEsVUFBQSxDQUFBLEVBQUE7U0FDVixVQUFBLENBQUEsQ0FBQSxJQUFBLElBQUEsR0FBVyxDQUFHLENBQUEsTUFBTSxDQUFOLFFBQUEsQ0FBZCxHQUFjLEtBQWYsQ0FBQyxDQUFELElBQXFDLG1CQUFBLENBQUQsQ0FBQyxDO0FBRDFCLENBQWI7O0FBR0EsVUFBQSxHQUFhLFVBQUEsQ0FBQSxFQUFBO1NBQVEsVUFBQSxDQUFBLENBQUEsSUFBQSxJQUFBLEdBQVcsQ0FBQyxDQUFFLElBQWQsR0FBYyxLQUFmLENBQUMsQ0FBRCxJQUF5QixVQUFBLENBQUQsQ0FBQyxDO0FBQWhDLENBQWI7O0FBRUEsUUFBQSxHQUFXLE1BQU0sQ0FBTixNQUFBLENBQ1Q7QUFBQSxFQUFBLE9BQUEsRUFBUztBQUFULENBRFMsQ0FBWDtBQUdBLE1BQU0sQ0FBTixNQUFBLENBQUEsUUFBQSxFQUFBLFVBQUEsRUFBb0MsVUFBQSxDQUFBLEVBQUE7U0FDbEM7QUFBQSxJQUFBLElBQUEsRUFBQSxDQUFBO0FBQ0EsS0FBQyxNQUFNLENBQVAsUUFBQSxHQUFtQixZQUFBO2FBQUcsSTtBQUFIO0FBRG5CLEc7QUFERixDQUFBO0FBSUEsTUFBTSxDQUFOLE1BQUEsQ0FBQSxRQUFBLEVBQUEsVUFBQSxFQUFvQyxVQUFBLENBQUEsRUFBQTtTQUFPLENBQUUsQ0FBQSxNQUFNLENBQVIsUUFBRSxDQUFGLEU7QUFBM0MsQ0FBQTtBQUVBLE1BQU0sQ0FBTixNQUFBLENBQUEsUUFBQSxFQUFBLG1CQUFBLEVBQTZDLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQ0FBQSxFO0FBQXBELENBQUE7QUFFQSxNQUFNLENBQU4sTUFBQSxDQUFBLFFBQUEsRUFBQSxVQUFBLEVBQW9DLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQztBQUEzQyxDQUFBOztBQUVBLElBQUEsR0FBTyxVQUFBLENBQUEsRUFBQTtTQUFPLENBQUMsQ0FBRCxJQUFBLEU7QUFBUCxDQUFQOztBQUNBLEtBQUEsR0FBUSxVQUFDO0FBQUQsRUFBQTtBQUFDLENBQUQsRUFBQTtTQUFhLEs7QUFBYixDQUFSOztBQUNBLE1BQUEsR0FBUyxVQUFDO0FBQUQsRUFBQTtBQUFDLENBQUQsRUFBQTtTQUFZLEk7QUFBWixDQUFUOztBQUVBLFNBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpZGVudGl0eSwgY3Vycnl9IGZyb20gXCJwYW5kYS1nYXJkZW5cIlxuaW1wb3J0IHtNZXRob2R9IGZyb20gXCJwYW5kYS1nZW5lcmljc1wiXG5pbXBvcnQge2lzS2luZCwgaXNGdW5jdGlvbiwgaXNHZW5lcmF0b3JGdW5jdGlvbn0gZnJvbSBcInBhbmRhLXBhcmNobWVudFwiXG5cbmlzSXRlcmFibGUgPSAoeCkgLT5cbiAgKGlzRnVuY3Rpb24geD9bU3ltYm9sLml0ZXJhdG9yXSkgfHwgKGlzR2VuZXJhdG9yRnVuY3Rpb24geClcblxuaXNJdGVyYXRvciA9ICh4KSAtPiAoaXNGdW5jdGlvbiB4Py5uZXh0KSAmJiAoaXNJdGVyYWJsZSB4KVxuXG5pdGVyYXRvciA9IE1ldGhvZC5jcmVhdGVcbiAgZGVmYXVsdDogXCJ1bmFibGUgdG8gY3JlYXRlIGl0ZXJhdG9yIGZyb20gdmFsdWVcIlxuXG5NZXRob2QuZGVmaW5lIGl0ZXJhdG9yLCBpc0Z1bmN0aW9uLCAoZikgLT5cbiAgbmV4dDogZlxuICBbU3ltYm9sLml0ZXJhdG9yXTogLT4gQFxuXG5NZXRob2QuZGVmaW5lIGl0ZXJhdG9yLCBpc0l0ZXJhYmxlLCAoaSkgLT4gaVtTeW1ib2wuaXRlcmF0b3JdKClcblxuTWV0aG9kLmRlZmluZSBpdGVyYXRvciwgaXNHZW5lcmF0b3JGdW5jdGlvbiwgKGcpIC0+IGcoKVxuXG5NZXRob2QuZGVmaW5lIGl0ZXJhdG9yLCBpc0l0ZXJhdG9yLCAoaSkgLT4gaVxuXG5uZXh0ID0gKGkpIC0+IGkubmV4dCgpXG52YWx1ZSA9ICh7dmFsdWV9KSAtPiB2YWx1ZVxuaXNEb25lID0gKHtkb25lfSkgLT4gZG9uZVxuXG5leHBvcnQge2lzSXRlcmFibGUsIGl0ZXJhdG9yLCBpc0l0ZXJhdG9yLCBuZXh0LCB2YWx1ZSwgaXNEb25lfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=/Users/dyoder/repos/panda-river/src/iterator.coffee