var assert, f;
assert = require("assert");
import { test } from "amen";
import { iterator, next, value, isDone } from "../src/iterator";
import { isReagent, reactor, isReactor } from "../src/reactor";

f = async function* () {
  var ref, results, x;
  ref = [1, 2];
  results = [];

  for await (x of ref) {
    results.push((yield x));
  }

  return results;
};

export default [test("isReagent", function () {
  return assert(isReagent({
    [Symbol.asyncIterator]: function () {}
  }));
}), test("isReactor", function () {
  return assert(isReactor(reactor(f)));
}), test("reactor/next/value/isDone", async function () {
  var r;
  r = f();
  assert(1 === value((await next(r))));
  assert(2 === value((await next(r))));
  return assert(isDone((await next(r))));
})];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9keW9kZXIvcmVwb3MvcGFuZGEtcml2ZXIvdGVzdC9yZWFjdG9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLE1BQUEsRUFBQSxDQUFBO0FBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBQSxRQUFBLENBQVQ7QUFDQSxTQUFBLElBQUEsUUFBQSxNQUFBO0FBQ0EsU0FBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLFFBQUEsaUJBQUE7QUFDQSxTQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsU0FBQSxRQUFBLGdCQUFBOztBQUVBLENBQUEsR0FBSSxtQkFBQTtBQUFHLE1BQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxDQUFBO0FBQVEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxDQUFBO0FBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQTs7QUFBQSxhQUFBLENBQUEsSUFBQSxHQUFBLEVBQUE7WUFBUixJLEVBQUEsTUFBQSxDO0FBQVE7OztBQUFYLENBQUo7O0FBQ0EsZUFBZSxDQUViLElBQUEsQ0FBQSxXQUFBLEVBQWtCLFlBQUE7U0FDaEIsTUFBQSxDQUFPLFNBQUEsQ0FBVTtBQUFBLEtBQUMsTUFBTSxDQUFQLGFBQUEsR0FBd0IsWUFBQSxDQUFBO0FBQXhCLEdBQVYsQ0FBUCxDO0FBSFcsQ0FFYixDQUZhLEVBS2IsSUFBQSxDQUFBLFdBQUEsRUFBa0IsWUFBQTtTQUNoQixNQUFBLENBQU8sU0FBQSxDQUFVLE9BQUEsQ0FBakIsQ0FBaUIsQ0FBVixDQUFQLEM7QUFOVyxDQUtiLENBTGEsRUFRYixJQUFBLENBQUEsMkJBQUEsRUFBa0Msa0JBQUE7QUFDaEMsTUFBQSxDQUFBO0FBQUEsRUFBQSxDQUFBLEdBQUksQ0FBQSxFQUFKO0FBQ0EsRUFBQSxNQUFBLENBQU8sTUFBSyxLQUFBLEVBQU0sTUFBTSxJQUFBLENBQXhCLENBQXdCLENBQVosRUFBWixDQUFBO0FBQ0EsRUFBQSxNQUFBLENBQU8sTUFBSyxLQUFBLEVBQU0sTUFBTSxJQUFBLENBQXhCLENBQXdCLENBQVosRUFBWixDQUFBO1NBQ0EsTUFBQSxDQUFPLE1BQUEsRUFBTyxNQUFNLElBQUEsQ0FBcEIsQ0FBb0IsQ0FBYixFQUFQLEM7QUFaVyxDQVFiLENBUmEsQ0FBZiIsInNvdXJjZXNDb250ZW50IjpbImFzc2VydCA9IHJlcXVpcmUgXCJhc3NlcnRcIlxuaW1wb3J0IHt0ZXN0fSBmcm9tIFwiYW1lblwiXG5pbXBvcnQge2l0ZXJhdG9yLCBuZXh0LCB2YWx1ZSwgaXNEb25lfSBmcm9tIFwiLi4vc3JjL2l0ZXJhdG9yXCJcbmltcG9ydCB7aXNSZWFnZW50LCByZWFjdG9yLCBpc1JlYWN0b3J9IGZyb20gXCIuLi9zcmMvcmVhY3RvclwiXG5cbmYgPSAtPiB5aWVsZCB4IGZvciBhd2FpdCB4IGZyb20gWzEuLjJdXG5leHBvcnQgZGVmYXVsdCBbXG5cbiAgdGVzdCBcImlzUmVhZ2VudFwiLCAtPlxuICAgIGFzc2VydCBpc1JlYWdlbnQgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogLT5cblxuICB0ZXN0IFwiaXNSZWFjdG9yXCIsIC0+XG4gICAgYXNzZXJ0IGlzUmVhY3RvciByZWFjdG9yIGZcblxuICB0ZXN0IFwicmVhY3Rvci9uZXh0L3ZhbHVlL2lzRG9uZVwiLCAtPlxuICAgIHIgPSBmKClcbiAgICBhc3NlcnQgMSA9PSB2YWx1ZSBhd2FpdCBuZXh0IHJcbiAgICBhc3NlcnQgMiA9PSB2YWx1ZSBhd2FpdCBuZXh0IHJcbiAgICBhc3NlcnQgaXNEb25lIGF3YWl0IG5leHQgclxuXG5dXG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=/Users/dyoder/repos/panda-river/test/reactor.coffee