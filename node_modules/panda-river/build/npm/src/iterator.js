"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isDone = exports.value = exports.next = exports.isIterator = exports.iterator = exports.isIterable = void 0;

var _pandaGarden = require("panda-garden");

var _pandaGenerics = require("panda-generics");

var _pandaParchment = require("panda-parchment");

var isDone, isIterable, isIterator, iterator, next, value;
exports.value = value;
exports.next = next;
exports.iterator = iterator;
exports.isIterator = isIterator;
exports.isIterable = isIterable;
exports.isDone = isDone;

exports.isIterable = isIterable = function (x) {
  return (0, _pandaParchment.isFunction)(x != null ? x[Symbol.iterator] : void 0) || (0, _pandaParchment.isGeneratorFunction)(x);
};

exports.isIterator = isIterator = function (x) {
  return (0, _pandaParchment.isFunction)(x != null ? x.next : void 0) && isIterable(x);
};

exports.iterator = iterator = _pandaGenerics.Method.create({
  default: "unable to create iterator from value"
});

_pandaGenerics.Method.define(iterator, _pandaParchment.isFunction, function (f) {
  return {
    next: f,
    [Symbol.iterator]: function () {
      return this;
    }
  };
});

_pandaGenerics.Method.define(iterator, isIterable, function (i) {
  return i[Symbol.iterator]();
});

_pandaGenerics.Method.define(iterator, _pandaParchment.isGeneratorFunction, function (g) {
  return g();
});

_pandaGenerics.Method.define(iterator, isIterator, function (i) {
  return i;
});

exports.next = next = function (i) {
  return i.next();
};

exports.value = value = function ({
  value
}) {
  return value;
};

exports.isDone = isDone = function ({
  done
}) {
  return done;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9keW9kZXIvcmVwb3MvcGFuZGEtcml2ZXIvc3JjL2l0ZXJhdG9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRkEsSUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUE7Ozs7Ozs7O0FBSUEscUJBQUEsVUFBQSxHQUFhLFVBQUEsQ0FBQSxFQUFBO1NBQ1YsZ0NBQUEsQ0FBQSxJQUFBLElBQUEsR0FBVyxDQUFHLENBQUEsTUFBTSxDQUFOLFFBQUEsQ0FBZCxHQUFjLEtBQWYsQ0FBQyxDQUFELElBQXFDLHlDQUFELENBQUMsQztBQUQxQixDQUFiOztBQUdBLHFCQUFBLFVBQUEsR0FBYSxVQUFBLENBQUEsRUFBQTtTQUFRLGdDQUFBLENBQUEsSUFBQSxJQUFBLEdBQVcsQ0FBQyxDQUFFLElBQWQsR0FBYyxLQUFmLENBQUMsQ0FBRCxJQUF5QixVQUFBLENBQUQsQ0FBQyxDO0FBQWhDLENBQWI7O0FBRUEsbUJBQUEsUUFBQSxHQUFXLHNCQUFBLE1BQUEsQ0FDVDtBQUFBLEVBQUEsT0FBQSxFQUFTO0FBQVQsQ0FEUyxDQUFYOztBQUdBLHNCQUFBLE1BQUEsQ0FBQSxRQUFBLEVBQUEsMEJBQUEsRUFBb0MsVUFBQSxDQUFBLEVBQUE7U0FDbEM7QUFBQSxJQUFBLElBQUEsRUFBQSxDQUFBO0FBQ0EsS0FBQyxNQUFNLENBQVAsUUFBQSxHQUFtQixZQUFBO2FBQUcsSTtBQUFIO0FBRG5CLEc7QUFERixDQUFBOztBQUlBLHNCQUFBLE1BQUEsQ0FBQSxRQUFBLEVBQUEsVUFBQSxFQUFvQyxVQUFBLENBQUEsRUFBQTtTQUFPLENBQUUsQ0FBQSxNQUFNLENBQVIsUUFBRSxDQUFGLEU7QUFBM0MsQ0FBQTs7QUFFQSxzQkFBQSxNQUFBLENBQUEsUUFBQSxFQUFBLG1DQUFBLEVBQTZDLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQ0FBQSxFO0FBQXBELENBQUE7O0FBRUEsc0JBQUEsTUFBQSxDQUFBLFFBQUEsRUFBQSxVQUFBLEVBQW9DLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQztBQUEzQyxDQUFBOztBQUVBLGVBQUEsSUFBQSxHQUFPLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQ0FBQyxDQUFELElBQUEsRTtBQUFQLENBQVA7O0FBQ0EsZ0JBQUEsS0FBQSxHQUFRLFVBQUM7QUFBRCxFQUFBO0FBQUMsQ0FBRCxFQUFBO1NBQWEsSztBQUFiLENBQVI7O0FBQ0EsaUJBQUEsTUFBQSxHQUFTLFVBQUM7QUFBRCxFQUFBO0FBQUMsQ0FBRCxFQUFBO1NBQVksSTtBQUFaLENBQVQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2lkZW50aXR5LCBjdXJyeX0gZnJvbSBcInBhbmRhLWdhcmRlblwiXG5pbXBvcnQge01ldGhvZH0gZnJvbSBcInBhbmRhLWdlbmVyaWNzXCJcbmltcG9ydCB7aXNLaW5kLCBpc0Z1bmN0aW9uLCBpc0dlbmVyYXRvckZ1bmN0aW9ufSBmcm9tIFwicGFuZGEtcGFyY2htZW50XCJcblxuaXNJdGVyYWJsZSA9ICh4KSAtPlxuICAoaXNGdW5jdGlvbiB4P1tTeW1ib2wuaXRlcmF0b3JdKSB8fCAoaXNHZW5lcmF0b3JGdW5jdGlvbiB4KVxuXG5pc0l0ZXJhdG9yID0gKHgpIC0+IChpc0Z1bmN0aW9uIHg/Lm5leHQpICYmIChpc0l0ZXJhYmxlIHgpXG5cbml0ZXJhdG9yID0gTWV0aG9kLmNyZWF0ZVxuICBkZWZhdWx0OiBcInVuYWJsZSB0byBjcmVhdGUgaXRlcmF0b3IgZnJvbSB2YWx1ZVwiXG5cbk1ldGhvZC5kZWZpbmUgaXRlcmF0b3IsIGlzRnVuY3Rpb24sIChmKSAtPlxuICBuZXh0OiBmXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiAtPiBAXG5cbk1ldGhvZC5kZWZpbmUgaXRlcmF0b3IsIGlzSXRlcmFibGUsIChpKSAtPiBpW1N5bWJvbC5pdGVyYXRvcl0oKVxuXG5NZXRob2QuZGVmaW5lIGl0ZXJhdG9yLCBpc0dlbmVyYXRvckZ1bmN0aW9uLCAoZykgLT4gZygpXG5cbk1ldGhvZC5kZWZpbmUgaXRlcmF0b3IsIGlzSXRlcmF0b3IsIChpKSAtPiBpXG5cbm5leHQgPSAoaSkgLT4gaS5uZXh0KClcbnZhbHVlID0gKHt2YWx1ZX0pIC0+IHZhbHVlXG5pc0RvbmUgPSAoe2RvbmV9KSAtPiBkb25lXG5cbmV4cG9ydCB7aXNJdGVyYWJsZSwgaXRlcmF0b3IsIGlzSXRlcmF0b3IsIG5leHQsIHZhbHVlLCBpc0RvbmV9XG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=/Users/dyoder/repos/panda-river/src/iterator.coffee