"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.serve = exports.watch = exports.transform = exports.copy = exports.extension = exports.write = exports.read = exports.glob = void 0;

var _path = require("path");

var _jstransformer = _interopRequireDefault(require("jstransformer"));

var _pandaRiver = require("panda-river");

var _pandaGarden = require("panda-garden");

var _pandaParchment = require("panda-parchment");

var _pandaQuill = require("panda-quill");

var _chokidar = _interopRequireDefault(require("chokidar"));

var _http = _interopRequireDefault(require("http"));

var _connect = _interopRequireDefault(require("connect"));

var _morgan = _interopRequireDefault(require("morgan"));

var _finalhandler = _interopRequireDefault(require("finalhandler"));

var _connectHistoryApiFallback = _interopRequireDefault(require("connect-history-api-fallback"));

var _serveStatic = _interopRequireDefault(require("serve-static"));

var _safe = require("colors/safe");

var _fastGlob = _interopRequireDefault(require("fast-glob"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var complete, copy, create, extension, glob, parse, read, serve, transform, watch, write;
exports.write = write;
exports.watch = watch;
exports.transform = transform;
exports.serve = serve;
exports.read = read;
exports.glob = glob;
exports.extension = extension;
exports.copy = copy;

parse = function (path) {
  var dir, ext, name;
  ({
    dir,
    name,
    ext
  } = (0, _path.parse)(path));
  return {
    path: path,
    directory: dir,
    name: name,
    extension: ext
  };
};

create = (0, _pandaGarden.curry)(function (path, rpath) {
  return (0, _pandaParchment.include)(parse(rpath), {
    source: parse((0, _path.resolve)(path, rpath)),
    target: {},
    data: {}
  });
});

exports.glob = glob = async function (pattern, path) {
  return (0, _pandaRiver.map)(create(path), (await (0, _fastGlob.default)(pattern, {
    cwd: path
  })));
};

complete = function (directory, context) {
  var defaults, extension, name, target;
  ({
    target
  } = context);

  if (target.path != null) {
    context.target = parse(target.path);
  } else {
    defaults = parse((0, _path.resolve)(directory, context.path));

    if (target.directory == null) {
      target.directory = defaults.directory;
    }

    if (target.name == null) {
      target.name = defaults.name;
    }

    if (target.extension == null) {
      target.extension = defaults.extension;
    }

    ({
      directory,
      name,
      extension
    } = target);
    target.path = (0, _path.join)(directory, `${name}${extension}`);
  }

  return context;
};

exports.read = read = (0, _pandaGarden.tee)(async function ({
  source
}) {
  return source.content = await (0, _pandaQuill.read)(source.path);
});
exports.write = write = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(async function (directory, context) {
  var target;
  ({
    target
  } = context);

  if (target.content != null) {
    complete(directory, context);
    await (0, _pandaQuill.mkdirp)("0777", target.directory);
    await (0, _pandaQuill.write)(target.path, target.content);
    return context;
  } else {
    return console.error((0, _safe.red)("[warning] p9k/write: attempt to write with no content."));
  }
}));

exports.extension = extension = function (extension) {
  return (0, _pandaGarden.tee)(function ({
    target
  }) {
    return target.extension = extension;
  });
};

exports.copy = copy = (0, _pandaGarden.curry)((0, _pandaGarden.binary)(async function (directory, context) {
  var source, target;
  ({
    source,
    target
  } = complete(directory, context));
  await (0, _pandaQuill.mkdirp)("0777", target.directory);
  (0, _pandaQuill.cp)(source.path, target.path);
  return context;
}));

exports.transform = transform = function (transformer, options) {
  var adapter;
  adapter = (0, _jstransformer.default)(transformer);
  return (0, _pandaGarden.tee)(async function ({
    source,
    target
  }) {
    var ref, result;

    if (source.content == null) {
      source.content = await read(source.path);
    }

    options.filename = source.path;
    result = await adapter.renderAsync(source.content, options);
    return target.content = (ref = result.body) != null ? ref : "";
  });
};

exports.watch = watch = function (path, handler) {
  return function () {
    return _chokidar.default.watch(path, {
      ignoreInitial: true
    }).on("all", handler);
  };
};

exports.serve = serve = function (path, options) {
  return function () {
    var handler, port;
    ({
      port
    } = options);
    handler = (0, _connect.default)();

    if (options.logger != null) {
      handler.use((0, _morgan.default)(options.logger));
    }

    if (options.rewrite != null) {
      handler.use(options.rewrite ? (0, _connectHistoryApiFallback.default)() : (0, _connectHistoryApiFallback.default)(options.rewrite));
    }

    handler.use((0, _serveStatic.default)("./build", options.files));
    handler.use(_finalhandler.default);
    return _http.default.createServer(handler).listen(port, function () {
      return console.log((0, _safe.green)(`p9k: server listening on port ${port}`));
    });
  };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9keW9kZXIvcmVwb3MvcGFuZGEtOTAwMC9zcmMvaGVscGVycy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOzs7O0FBaEJBLElBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUE7Ozs7Ozs7Ozs7QUFrQkEsS0FBQSxHQUFRLFVBQUEsSUFBQSxFQUFBO0FBQ04sTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUE7QUFBQSxHQUFBO0FBQUEsSUFBQSxHQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQTtBQUFBLE1BQW1CLGlCQUFuQixJQUFtQixDQUFuQjtTQUNBO0FBQUEsSUFBQSxJQUFBLEVBQUEsSUFBQTtBQUNBLElBQUEsU0FBQSxFQURBLEdBQUE7QUFFQSxJQUFBLElBQUEsRUFGQSxJQUFBO0FBR0EsSUFBQSxTQUFBLEVBQVc7QUFIWCxHO0FBRk0sQ0FBUjs7QUFPQSxNQUFBLEdBQVMsd0JBQU0sVUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBO1NBQ2IsNkJBQVMsS0FBQSxDQUFULEtBQVMsQ0FBVCxFQUNFO0FBQUEsSUFBQSxNQUFBLEVBQVEsS0FBQSxDQUFNLG1CQUFBLElBQUEsRUFBZCxLQUFjLENBQU4sQ0FBUjtBQUNBLElBQUEsTUFBQSxFQURBLEVBQUE7QUFFQSxJQUFBLElBQUEsRUFBTTtBQUZOLEdBREYsQztBQURPLENBQUEsQ0FBVDs7QUFNQSxlQUFBLElBQUEsR0FBTyxnQkFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBO1NBQ0wscUJBQUssTUFBQSxDQUFMLElBQUssQ0FBTCxHQUFvQixNQUFNLHVCQUFBLE9B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LENBQVo7QUFDQSxJQUFBLE9BQU8sQ0FBUCxHQUFBLENBQUEscUJBQUE7V0FDQSxjQUFBLFlBQUEsQ0FBQSxPQUFBLEVBQUEsTUFBQSxDQUFBLElBQUEsRUFDYyxZQUFBO2FBQ1osT0FBTyxDQUFQLEdBQUEsQ0FBWSxpQkFBTSxpQ0FBQSxJQUFsQixFQUFZLENBQVosQztBQUZGLEtBQUEsQztBQVRGLEc7QUFETSxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtwYXJzZSBhcyBfcGFyc2UsIGpvaW4sIHJlc29sdmV9IGZyb20gIFwicGF0aFwiXG5pbXBvcnQgX3RyYW5zZm9ybSBmcm9tIFwianN0cmFuc2Zvcm1lclwiXG5pbXBvcnQge21hcH0gZnJvbSBcInBhbmRhLXJpdmVyXCJcbmltcG9ydCB7Y3VycnksIGJpbmFyeSwgdGVlfSBmcm9tIFwicGFuZGEtZ2FyZGVuXCJcbmltcG9ydCB7aW5jbHVkZX0gZnJvbSBcInBhbmRhLXBhcmNobWVudFwiXG5pbXBvcnQge3JlYWQgYXMgX3JlYWQsIHdyaXRlIGFzIF93cml0ZSwgbWtkaXJwLCBjcH0gZnJvbSBcInBhbmRhLXF1aWxsXCJcbmltcG9ydCBjaG9raWRhciBmcm9tIFwiY2hva2lkYXJcIlxuXG5pbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiXG5pbXBvcnQgY29ubmVjdCBmcm9tIFwiY29ubmVjdFwiXG5pbXBvcnQgbG9nZ2VyIGZyb20gXCJtb3JnYW5cIlxuaW1wb3J0IGZpbmlzaCBmcm9tIFwiZmluYWxoYW5kbGVyXCJcbmltcG9ydCByZXdyaXRlIGZyb20gXCJjb25uZWN0LWhpc3RvcnktYXBpLWZhbGxiYWNrXCJcblxuaW1wb3J0IGZpbGVzIGZyb20gXCJzZXJ2ZS1zdGF0aWNcIlxuaW1wb3J0IHtncmVlbiwgcmVkfSBmcm9tIFwiY29sb3JzL3NhZmVcIlxuaW1wb3J0IF9nbG9iIGZyb20gXCJmYXN0LWdsb2JcIlxuXG5wYXJzZSA9IChwYXRoKSAtPlxuICB7ZGlyLCBuYW1lLCBleHR9ID0gX3BhcnNlIHBhdGhcbiAgcGF0aDogcGF0aFxuICBkaXJlY3Rvcnk6IGRpclxuICBuYW1lOiBuYW1lXG4gIGV4dGVuc2lvbjogZXh0XG5cbmNyZWF0ZSA9IGN1cnJ5IChwYXRoLCBycGF0aCkgLT5cbiAgaW5jbHVkZSAocGFyc2UgcnBhdGgpLFxuICAgIHNvdXJjZTogcGFyc2UgcmVzb2x2ZSBwYXRoLCBycGF0aFxuICAgIHRhcmdldDoge31cbiAgICBkYXRhOiB7fVxuXG5nbG9iID0gKHBhdHRlcm4sIHBhdGgpIC0+XG4gIG1hcCAoY3JlYXRlIHBhdGgpLCAoYXdhaXQgX2dsb2IgcGF0dGVybiwgY3dkOiBwYXRoKVxuXG5jb21wbGV0ZSA9IChkaXJlY3RvcnksIGNvbnRleHQpIC0+XG4gIHt0YXJnZXR9ID0gY29udGV4dFxuICBpZiB0YXJnZXQucGF0aD9cbiAgICBjb250ZXh0LnRhcmdldCA9IHBhcnNlIHRhcmdldC5wYXRoXG4gIGVsc2VcbiAgICBkZWZhdWx0cyA9IHBhcnNlIHJlc29sdmUgZGlyZWN0b3J5LCBjb250ZXh0LnBhdGhcbiAgICB0YXJnZXQuZGlyZWN0b3J5ID89IGRlZmF1bHRzLmRpcmVjdG9yeVxuICAgIHRhcmdldC5uYW1lID89IGRlZmF1bHRzLm5hbWVcbiAgICB0YXJnZXQuZXh0ZW5zaW9uID89IGRlZmF1bHRzLmV4dGVuc2lvblxuICAgIHtkaXJlY3RvcnksIG5hbWUsIGV4dGVuc2lvbn0gPSB0YXJnZXRcbiAgICB0YXJnZXQucGF0aCA9IGpvaW4gZGlyZWN0b3J5LCBcIiN7bmFtZX0je2V4dGVuc2lvbn1cIlxuICBjb250ZXh0XG5cbnJlYWQgPSB0ZWUgKHtzb3VyY2V9KSAtPlxuICBzb3VyY2UuY29udGVudCA9IGF3YWl0IF9yZWFkIHNvdXJjZS5wYXRoXG5cbndyaXRlID0gY3VycnkgYmluYXJ5IChkaXJlY3RvcnksIGNvbnRleHQpIC0+XG4gIHt0YXJnZXR9ID0gY29udGV4dFxuICBpZiB0YXJnZXQuY29udGVudD9cbiAgICBjb21wbGV0ZSBkaXJlY3RvcnksIGNvbnRleHRcbiAgICBhd2FpdCBta2RpcnAgXCIwNzc3XCIsIHRhcmdldC5kaXJlY3RvcnlcbiAgICBhd2FpdCBfd3JpdGUgdGFyZ2V0LnBhdGgsIHRhcmdldC5jb250ZW50XG4gICAgY29udGV4dFxuICBlbHNlXG4gICAgY29uc29sZS5lcnJvciByZWQgXCJbd2FybmluZ10gcDlrL3dyaXRlOiBhdHRlbXB0IHRvIHdyaXRlIHdpdGggbm8gY29udGVudC5cIlxuXG5leHRlbnNpb24gPSAoZXh0ZW5zaW9uKSAtPiB0ZWUgKHt0YXJnZXR9KSAtPiB0YXJnZXQuZXh0ZW5zaW9uID0gZXh0ZW5zaW9uXG5cbmNvcHkgPSBjdXJyeSBiaW5hcnkgKGRpcmVjdG9yeSwgY29udGV4dCkgLT5cbiAge3NvdXJjZSwgdGFyZ2V0fSA9IGNvbXBsZXRlIGRpcmVjdG9yeSwgY29udGV4dFxuICBhd2FpdCBta2RpcnAgXCIwNzc3XCIsIHRhcmdldC5kaXJlY3RvcnlcbiAgY3Agc291cmNlLnBhdGgsIHRhcmdldC5wYXRoXG4gIGNvbnRleHRcblxudHJhbnNmb3JtID0gKHRyYW5zZm9ybWVyLCBvcHRpb25zKSAtPlxuICBhZGFwdGVyID0gX3RyYW5zZm9ybSB0cmFuc2Zvcm1lclxuICB0ZWUgKHtzb3VyY2UsIHRhcmdldH0pIC0+XG4gICAgc291cmNlLmNvbnRlbnQgPz0gYXdhaXQgcmVhZCBzb3VyY2UucGF0aFxuICAgIG9wdGlvbnMuZmlsZW5hbWUgPSBzb3VyY2UucGF0aFxuICAgIHJlc3VsdCA9IGF3YWl0IGFkYXB0ZXIucmVuZGVyQXN5bmMgc291cmNlLmNvbnRlbnQsIG9wdGlvbnNcbiAgICB0YXJnZXQuY29udGVudCA9IHJlc3VsdC5ib2R5ID8gXCJcIlxuXG53YXRjaCA9IChwYXRoLCBoYW5kbGVyKSAtPlxuICAtPlxuICAgIGNob2tpZGFyLndhdGNoIHBhdGgsIGlnbm9yZUluaXRpYWw6IHRydWVcbiAgICAub24gXCJhbGxcIiwgaGFuZGxlclxuXG5zZXJ2ZSA9IChwYXRoLCBvcHRpb25zKSAtPlxuICAtPlxuICAgIHtwb3J0fSA9IG9wdGlvbnNcbiAgICBoYW5kbGVyID0gY29ubmVjdCgpXG4gICAgaWYgb3B0aW9ucy5sb2dnZXI/XG4gICAgICBoYW5kbGVyLnVzZSBsb2dnZXIgb3B0aW9ucy5sb2dnZXJcbiAgICBpZiBvcHRpb25zLnJld3JpdGU/XG4gICAgICBoYW5kbGVyLnVzZSBpZiBvcHRpb25zLnJld3JpdGUgdGhlbiByZXdyaXRlKCkgZWxzZSByZXdyaXRlIG9wdGlvbnMucmV3cml0ZVxuICAgIGhhbmRsZXIudXNlIGZpbGVzIFwiLi9idWlsZFwiLCBvcHRpb25zLmZpbGVzXG4gICAgaGFuZGxlci51c2UgZmluaXNoXG4gICAgaHR0cC5jcmVhdGVTZXJ2ZXIgaGFuZGxlclxuICAgIC5saXN0ZW4gcG9ydCwgLT5cbiAgICAgIGNvbnNvbGUubG9nIGdyZWVuIFwicDlrOiBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgI3twb3J0fVwiXG5cbmV4cG9ydCB7Z2xvYiwgcmVhZCwgd3JpdGUsIGV4dGVuc2lvbiwgY29weSwgdHJhbnNmb3JtLCB3YXRjaCwgc2VydmV9XG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=/Users/dyoder/repos/panda-9000/src/helpers.coffee