"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _pandaGenerics = require("panda-generics");

var _pandaParchment = require("panda-parchment");

var Section;

Section = function (s3, fns) {
  var putACL;
  putACL = _pandaGenerics.Method.create({
    default: function (...args) {
      throw new Error(`sundog:s3:putACL - no match on ${JSON.stringify(args)}`);
    }
  }); // Putting a buffer of raw data to S3

  _pandaGenerics.Method.define(putACL, _pandaParchment.isString, _pandaParchment.isString, _pandaParchment.isString, _pandaParchment.isObject, async function (Bucket, Key, ACL, options) {
    return await s3.putObject((0, _pandaParchment.merge)({
      Bucket,
      Key,
      ACL
    }, options));
  });

  _pandaGenerics.Method.define(putACL, _pandaParchment.isString, _pandaParchment.isString, _pandaParchment.isString, function (Bucket, Key, ACL) {
    return putACL(Bucket, Key, ACL, {});
  });

  _pandaGenerics.Method.define(putACL, _pandaParchment.isString, _pandaParchment.isString, _pandaParchment.isObject, function (Bucket, Key, options) {
    return putACL(Bucket, Key, "", options);
  });

  return {
    putACL
  };
};

var _default = Section;
exports.default = _default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9zdW5kb2cvc3JjL3ByaW1pdGl2ZXMvczMvb2JqZWN0L2FjbC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQURBLElBQUEsT0FBQTs7QUFHQSxPQUFBLEdBQVUsVUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBO0FBQ1IsTUFBQSxNQUFBO0FBQUEsRUFBQSxNQUFBLEdBQVMsc0JBQUEsTUFBQSxDQUFjO0FBQUEsSUFBQSxPQUFBLEVBQVMsVUFBQSxHQUFBLElBQUEsRUFBQTtBQUM5QixZQUFNLElBQUEsS0FBQSxDQUFVLGtDQUNBLElBQUksQ0FBSixTQUFBLENBREEsSUFDQSxDQURWLEVBQUEsQ0FBTjtBQUQ4QjtBQUFULEdBQWQsQ0FBVCxDQURRLEM7O0FBTVIsd0JBQUEsTUFBQSxDQUFBLE1BQUEsRUFBQSx3QkFBQSxFQUFBLHdCQUFBLEVBQUEsd0JBQUEsRUFBQSx3QkFBQSxFQUNFLGdCQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQTtBQUNFLFdBQUEsTUFBTSxFQUFFLENBQUYsU0FBQSxDQUFhLDJCQUFNO0FBQUEsTUFBQSxNQUFBO0FBQUEsTUFBQSxHQUFBO0FBQU4sTUFBQTtBQUFNLEtBQU4sRUFBbkIsT0FBbUIsQ0FBYixDQUFOO0FBRkosR0FBQTs7QUFJQSx3QkFBQSxNQUFBLENBQUEsTUFBQSxFQUFBLHdCQUFBLEVBQUEsd0JBQUEsRUFBQSx3QkFBQSxFQUNFLFVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUE7V0FBc0IsTUFBQSxDQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsQztBQUR4QixHQUFBOztBQUdBLHdCQUFBLE1BQUEsQ0FBQSxNQUFBLEVBQUEsd0JBQUEsRUFBQSx3QkFBQSxFQUFBLHdCQUFBLEVBQ0UsVUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQTtXQUEwQixNQUFBLENBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxDO0FBRDVCLEdBQUE7O1NBR0E7QUFBQSxJQUFBO0FBQUEsRztBQWhCUSxDQUFWOztlQWtCZSxPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNZXRob2R9IGZyb20gXCJwYW5kYS1nZW5lcmljc1wiXG5pbXBvcnQge21lcmdlLCBpc1N0cmluZywgaXNPYmplY3R9IGZyb20gXCJwYW5kYS1wYXJjaG1lbnRcIlxuXG5TZWN0aW9uID0gKHMzLCBmbnMpIC0+XG4gIHB1dEFDTCA9IE1ldGhvZC5jcmVhdGUgZGVmYXVsdDogKGFyZ3MuLi4pIC0+XG4gICAgdGhyb3cgbmV3IEVycm9yIFwic3VuZG9nOnMzOnB1dEFDTCAtXG4gICAgICBubyBtYXRjaCBvbiAje0pTT04uc3RyaW5naWZ5IGFyZ3N9XCJcblxuICAjIFB1dHRpbmcgYSBidWZmZXIgb2YgcmF3IGRhdGEgdG8gUzNcbiAgTWV0aG9kLmRlZmluZSBwdXRBQ0wsIGlzU3RyaW5nLCBpc1N0cmluZywgaXNTdHJpbmcsIGlzT2JqZWN0LFxuICAgIChCdWNrZXQsIEtleSwgQUNMLCBvcHRpb25zKSAtPlxuICAgICAgYXdhaXQgczMucHV0T2JqZWN0IG1lcmdlIHtCdWNrZXQsIEtleSwgQUNMfSwgb3B0aW9uc1xuXG4gIE1ldGhvZC5kZWZpbmUgcHV0QUNMLCBpc1N0cmluZywgaXNTdHJpbmcsIGlzU3RyaW5nLFxuICAgIChCdWNrZXQsIEtleSwgQUNMKSAtPiBwdXRBQ0wgQnVja2V0LCBLZXksIEFDTCwge31cblxuICBNZXRob2QuZGVmaW5lIHB1dEFDTCwgaXNTdHJpbmcsIGlzU3RyaW5nLCBpc09iamVjdCxcbiAgICAoQnVja2V0LCBLZXksIG9wdGlvbnMpIC0+IHB1dEFDTCBCdWNrZXQsIEtleSwgXCJcIiwgb3B0aW9uc1xuXG4gIHtwdXRBQ0x9XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb25cbiJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=/Users/david/repos/sundog/src/primitives/s3/object/acl.coffee