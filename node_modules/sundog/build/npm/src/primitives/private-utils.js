"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.where = exports.notFound = void 0;

var _pandaGarden = require("panda-garden");

var _pandaParchment = require("panda-parchment");

var _pandaRiver = require("panda-river");

var notFound, where;
exports.where = where;
exports.notFound = notFound;

// Some SunDog methods return false when a resource cannot be found instead
// of throwing the raw AWS error.  In custom cases, that's not always 404.
exports.notFound = notFound = function (e, status = 404, code) {
  if ((e != null ? e.statusCode : void 0) === status) {
    if (code && e.code !== code) {
      throw e;
    }

    return false;
  } else {
    throw e;
  }
};

exports.where = where = (0, _pandaGarden.curry)(function (example, i) {
  return (0, _pandaRiver.select)((0, _pandaParchment.query)(example), i);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9zdW5kb2cvc3JjL3ByaW1pdGl2ZXMvcHJpdmF0ZS11dGlscy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUZBLElBQUEsUUFBQSxFQUFBLEtBQUE7Ozs7OztBQU9BLG1CQUFBLFFBQUEsR0FBVyxVQUFBLENBQUEsRUFBSSxNQUFBLEdBQUosR0FBQSxFQUFBLElBQUEsRUFBQTtBQUNULE1BQUEsQ0FBQSxDQUFBLElBQUEsSUFBQSxHQUFHLENBQUMsQ0FBRSxVQUFOLEdBQU0sS0FBSCxDQUFILE1BQUEsTUFBQSxFQUFBO0FBQ0UsUUFBVyxJQUFBLElBQVEsQ0FBQyxDQUFELElBQUEsS0FBbkIsSUFBQSxFQUFBO0FBQUEsWUFBQSxDQUFBOzs7V0FERixLO0FBQUEsR0FBQSxNQUFBO0FBSUUsVUFKRixDQUlFOztBQUxPLENBQVg7O0FBT0EsZ0JBQUEsS0FBQSxHQUFRLHdCQUFNLFVBQUEsT0FBQSxFQUFBLENBQUEsRUFBQTtTQUFnQix3QkFBUSwyQkFBUixPQUFRLENBQVIsRUFBQSxDQUFBLEM7QUFBdEIsQ0FBQSxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjdXJyeX0gZnJvbSBcInBhbmRhLWdhcmRlblwiXG5pbXBvcnQge3F1ZXJ5fSBmcm9tIFwicGFuZGEtcGFyY2htZW50XCJcbmltcG9ydCB7c2VsZWN0fSBmcm9tIFwicGFuZGEtcml2ZXJcIlxuXG5cbiMgU29tZSBTdW5Eb2cgbWV0aG9kcyByZXR1cm4gZmFsc2Ugd2hlbiBhIHJlc291cmNlIGNhbm5vdCBiZSBmb3VuZCBpbnN0ZWFkXG4jIG9mIHRocm93aW5nIHRoZSByYXcgQVdTIGVycm9yLiAgSW4gY3VzdG9tIGNhc2VzLCB0aGF0J3Mgbm90IGFsd2F5cyA0MDQuXG5ub3RGb3VuZCA9IChlLCBzdGF0dXM9NDA0LCBjb2RlKSAtPlxuICBpZiBlPy5zdGF0dXNDb2RlID09IHN0YXR1c1xuICAgIHRocm93IGUgaWYgY29kZSAmJiBlLmNvZGUgIT0gY29kZVxuICAgIGZhbHNlXG4gIGVsc2VcbiAgICB0aHJvdyBlXG5cbndoZXJlID0gY3VycnkgKGV4YW1wbGUsIGkpIC0+IHNlbGVjdCAocXVlcnkgZXhhbXBsZSksIGlcblxuZXhwb3J0IHtub3RGb3VuZCwgd2hlcmV9XG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=/Users/david/repos/sundog/src/primitives/private-utils.coffee