"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.dropEx = exports.numberEx = exports.updateEx = exports.qv = exports.parseConditional = exports.default = void 0;

var _pandaGarden = require("panda-garden");

var _pandaGenerics = require("panda-generics");

var _pandaParchment = require("panda-parchment");

var _types = require("./types");

// Expression helpers make it easier to write the arcane string DSL that DynamoDB wants to achieve complex operations.
var DELIMITER,
    _qv,
    dropEx,
    numberEx,
    parseConditional,
    qv,
    updateEx,
    indexOf = [].indexOf;

exports.updateEx = updateEx;
exports.qv = qv;
exports.parseConditional = parseConditional;
exports.numberEx = numberEx;
exports.dropEx = dropEx;
DELIMITER = "<###SUNDOGDYNAMODB###>";

exports.parseConditional = parseConditional = function (ex, count = 0) {
  var Values, re, result;

  if (!ex) {
    return {
      result: false,
      values: false,
      count
    };
  }

  Values = {};
  re = new RegExp(`${DELIMITER}.+?${DELIMITER}`, "g");
  result = ex.replace(re, function (match) {
    var obj, placeholder;
    [, obj] = match.split(DELIMITER);
    placeholder = `:param${count}`;
    count++;
    Values[placeholder] = JSON.parse(obj);
    return placeholder; // Return placeholder to the expression we are processing.
  });
  return {
    result,
    values: Values,
    count
  };
}; // qv produces query strings with delimited values Sundog can parse.


_qv = function (o) {
  var delimit;

  delimit = function (s) {
    return `${DELIMITER}${s}${DELIMITER}`;
  }; // Determine if this is a DynamoDB value, and whether is anonymous or named.


  if (o.name === "anonymousDynamodbValue") {
    return delimit(JSON.stringify(o));
  } else if (o.name === "namedDynamodbValue") {
    return delimit(JSON.stringify((0, _pandaParchment.first)((0, _pandaParchment.values)(o))));
  } else {
    throw new Error(`Unable to create stringified query value for unrecongied object ${JSON.stringify(o)}`);
  }
};

exports.qv = qv = _pandaGenerics.Method.create({
  default: function (...args) {
    console.error("sundog:dynamodb:qv, unable to match to method on", args);
    throw new Error();
  }
});

_pandaGenerics.Method.define(qv, _pandaParchment.isFunction, function (f) {
  return function (x) {
    return _qv(f(x));
  };
});

_pandaGenerics.Method.define(qv, _pandaParchment.isObject, function (o) {
  return _qv(o);
});

exports.numberEx = numberEx = function (field, amount) {
  return `ADD ${field} ${qv(_types.to.N(amount))}`;
}; // Always pass qv a named element here to ensure JSON extended type works here.


exports.updateEx = updateEx = (0, _pandaGarden.curry)(function ({
  key,
  types
}, data) {
  var chunks, f, k, type, v;
  chunks = [];

  for (k in data) {
    v = data[k];

    if (!(indexOf.call(key, k) < 0)) {
      continue;
    }

    if (v == null) {
      continue;
    }

    type = types[k];

    if (!type) {
      throw new Error(`${k} does not have a type defined.`);
    }

    f = _types.to[type];

    if (f == null) {
      throw new Error(`bad type: ${type}`);
    }

    switch (type) {
      case "S":
      case "SS":
      case "L":
      case "B":
      case "NS":
      case "BS":
        if ((0, _pandaParchment.empty)(v)) {
          continue;
        }

        break;

      case "N":
        if (Number.isNaN(v)) {
          continue;
        }

        break;

      case "BOOL":
      case "NULL":
        if (!isBoolean(v)) {
          continue;
        }

        break;

      case "M":
        if (!((0, _pandaParchment.isObject)(v) && !(0, _pandaParchment.empty)(keys(v)))) {
          continue;
        }

        break;

      case "JSON":
        if ((0, _pandaParchment.empty)(JSON.stringify(v))) {
          continue;
        }

        break;

      case "SET":
        if (!isType(Set, v)) {
          continue;
        }

        break;

      default:
        throw new Error("bad update type conversion");
    }

    chunks.push(`${k} = ${qv(f({
      k: v
    }))}`);
  }

  if (!(0, _pandaParchment.empty)(chunks)) {
    return `SET ${chunks.join(", ")}`;
  } else {
    return "";
  }
});

exports.dropEx = dropEx = function (drop) {
  if (drop && !(0, _pandaParchment.empty)(drop)) {
    return ` REMOVE ${drop.join(", ") // The leading space is important!!
    }`;
  } else {
    return "";
  }
};

var _default = {
  parseConditional,
  qv,
  updateEx,
  numberEx,
  dropEx
};
exports.default = _default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9zdW5kb2cvc3JjL3ByaW1pdGl2ZXMvZHluYW1vZGIvaGVscGVycy9leHByZXNzaW9ucy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUpBO0FBQUEsSUFBQSxTQUFBO0FBQUEsSUFBQSxHQUFBO0FBQUEsSUFBQSxNQUFBO0FBQUEsSUFBQSxRQUFBO0FBQUEsSUFBQSxnQkFBQTtBQUFBLElBQUEsRUFBQTtBQUFBLElBQUEsUUFBQTtBQUFBLElBQUEsT0FBQSxHQUFBLEdBQUEsT0FBQTs7Ozs7OztBQU1BLFNBQUEsR0FBWSx3QkFBWjs7QUFFQSwyQkFBQSxnQkFBQSxHQUFtQixVQUFBLEVBQUEsRUFBSyxLQUFBLEdBQUwsQ0FBQSxFQUFBO0FBQ2pCLE1BQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBOztBQUFBLE1BQThDLENBQTlDLEVBQUEsRUFBQTtBQUFBLFdBQU87QUFBQyxNQUFBLE1BQUEsRUFBRCxLQUFBO0FBQWUsTUFBQSxNQUFBLEVBQWYsS0FBQTtBQUE2QixNQUFBO0FBQTdCLEtBQVA7OztBQUNBLEVBQUEsTUFBQSxHQUFTLEVBQVQ7QUFDQSxFQUFBLEVBQUEsR0FBSyxJQUFBLE1BQUEsQ0FBVyxHQUFBLFNBQUEsTUFBQSxTQUFYLEVBQUEsRUFBQSxHQUFBLENBQUw7QUFFQSxFQUFBLE1BQUEsR0FBUyxFQUFFLENBQUYsT0FBQSxDQUFBLEVBQUEsRUFBZSxVQUFBLEtBQUEsRUFBQTtBQUN0QixRQUFBLEdBQUEsRUFBQSxXQUFBO0FBQUEsT0FBQSxHQUFBLElBQVUsS0FBSyxDQUFMLEtBQUEsQ0FBQSxTQUFBLENBQVY7QUFDQSxJQUFBLFdBQUEsR0FBYyxTQUFBLEtBQUEsRUFBZDtBQUNBLElBQUEsS0FBQTtBQUNBLElBQUEsTUFBTyxDQUFQLFdBQU8sQ0FBUCxHQUFzQixJQUFJLENBQUosS0FBQSxDQUFBLEdBQUEsQ0FBdEI7V0FKc0IsVyxD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LEVBQUEsRUFBQTtBQUFBLEVBQUEsUUFBQTtBQUFBLEVBQUEsUUFBQTtBQUFBLEVBQUE7QUFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiIyBFeHByZXNzaW9uIGhlbHBlcnMgbWFrZSBpdCBlYXNpZXIgdG8gd3JpdGUgdGhlIGFyY2FuZSBzdHJpbmcgRFNMIHRoYXQgRHluYW1vREIgd2FudHMgdG8gYWNoaWV2ZSBjb21wbGV4IG9wZXJhdGlvbnMuXG5pbXBvcnQge2N1cnJ5fSBmcm9tIFwicGFuZGEtZ2FyZGVuXCJcbmltcG9ydCB7TWV0aG9kfSBmcm9tIFwicGFuZGEtZ2VuZXJpY3NcIlxuaW1wb3J0IHtmaXJzdCwgdmFsdWVzLCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgZW1wdHl9IGZyb20gXCJwYW5kYS1wYXJjaG1lbnRcIlxuaW1wb3J0IHt0b30gZnJvbSBcIi4vdHlwZXNcIlxuXG5ERUxJTUlURVIgPSBcIjwjIyNTVU5ET0dEWU5BTU9EQiMjIz5cIlxuXG5wYXJzZUNvbmRpdGlvbmFsID0gKGV4LCBjb3VudD0wKSAtPlxuICByZXR1cm4ge3Jlc3VsdDpmYWxzZSwgdmFsdWVzOmZhbHNlLCBjb3VudH0gaWYgIWV4XG4gIFZhbHVlcyA9IHt9XG4gIHJlID0gbmV3IFJlZ0V4cCBcIiN7REVMSU1JVEVSfS4rPyN7REVMSU1JVEVSfVwiLCBcImdcIlxuXG4gIHJlc3VsdCA9IGV4LnJlcGxhY2UgcmUsIChtYXRjaCkgLT5cbiAgICBbLCBvYmpdID0gbWF0Y2guc3BsaXQgREVMSU1JVEVSXG4gICAgcGxhY2Vob2xkZXIgPSBcIjpwYXJhbSN7Y291bnR9XCJcbiAgICBjb3VudCsrXG4gICAgVmFsdWVzW3BsYWNlaG9sZGVyXSA9IEpTT04ucGFyc2Ugb2JqXG4gICAgcGxhY2Vob2xkZXIgIyBSZXR1cm4gcGxhY2Vob2xkZXIgdG8gdGhlIGV4cHJlc3Npb24gd2UgYXJlIHByb2Nlc3NpbmcuXG5cbiAge3Jlc3VsdCwgdmFsdWVzOlZhbHVlcywgY291bnR9XG5cbiMgcXYgcHJvZHVjZXMgcXVlcnkgc3RyaW5ncyB3aXRoIGRlbGltaXRlZCB2YWx1ZXMgU3VuZG9nIGNhbiBwYXJzZS5cbl9xdiA9IChvKSAtPlxuICBkZWxpbWl0ID0gKHMpIC0+IFwiI3tERUxJTUlURVJ9I3tzfSN7REVMSU1JVEVSfVwiXG4gICMgRGV0ZXJtaW5lIGlmIHRoaXMgaXMgYSBEeW5hbW9EQiB2YWx1ZSwgYW5kIHdoZXRoZXIgaXMgYW5vbnltb3VzIG9yIG5hbWVkLlxuICBpZiBvLm5hbWUgPT0gXCJhbm9ueW1vdXNEeW5hbW9kYlZhbHVlXCJcbiAgICBkZWxpbWl0IEpTT04uc3RyaW5naWZ5IG9cbiAgZWxzZSBpZiBvLm5hbWUgPT0gXCJuYW1lZER5bmFtb2RiVmFsdWVcIlxuICAgIGRlbGltaXQgSlNPTi5zdHJpbmdpZnkgZmlyc3QgdmFsdWVzIG9cbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvciBcIlVuYWJsZSB0byBjcmVhdGUgc3RyaW5naWZpZWQgcXVlcnkgdmFsdWUgZm9yIHVucmVjb25naWVkIG9iamVjdCAje0pTT04uc3RyaW5naWZ5IG99XCJcblxucXYgPSBNZXRob2QuY3JlYXRlIGRlZmF1bHQ6IChhcmdzLi4uKSAtPlxuICBjb25zb2xlLmVycm9yIFwic3VuZG9nOmR5bmFtb2RiOnF2LCB1bmFibGUgdG8gbWF0Y2ggdG8gbWV0aG9kIG9uXCIsIGFyZ3NcbiAgdGhyb3cgbmV3IEVycm9yKClcbk1ldGhvZC5kZWZpbmUgcXYsIGlzRnVuY3Rpb24sIChmKSAtPiAoeCkgLT4gX3F2IGYgeFxuTWV0aG9kLmRlZmluZSBxdiwgaXNPYmplY3QsIChvKSAtPiBfcXYgb1xuXG5udW1iZXJFeCA9IChmaWVsZCwgYW1vdW50KSAtPiBcIkFERCAje2ZpZWxkfSAje3F2IHRvLk4gYW1vdW50fVwiXG5cbiMgQWx3YXlzIHBhc3MgcXYgYSBuYW1lZCBlbGVtZW50IGhlcmUgdG8gZW5zdXJlIEpTT04gZXh0ZW5kZWQgdHlwZSB3b3JrcyBoZXJlLlxudXBkYXRlRXggPSBjdXJyeSAoe2tleSwgdHlwZXN9LCBkYXRhKSAtPlxuICBjaHVua3MgPSBbXVxuICBmb3IgaywgdiBvZiBkYXRhIHdoZW4gayBub3QgaW4ga2V5XG4gICAgY29udGludWUgdW5sZXNzIHY/XG5cbiAgICB0eXBlID0gdHlwZXNba11cbiAgICB0aHJvdyBuZXcgRXJyb3IgXCIje2t9IGRvZXMgbm90IGhhdmUgYSB0eXBlIGRlZmluZWQuXCIgaWYgIXR5cGVcblxuICAgIGYgPSB0b1t0eXBlXVxuICAgIHRocm93IG5ldyBFcnJvciBcImJhZCB0eXBlOiAje3R5cGV9XCIgdW5sZXNzIGY/XG5cbiAgICBzd2l0Y2ggdHlwZVxuICAgICAgd2hlbiBcIlNcIiwgXCJTU1wiLCBcIkxcIiwgXCJCXCIsIFwiTlNcIiwgXCJCU1wiXG4gICAgICAgIGNvbnRpbnVlIGlmIGVtcHR5IHZcbiAgICAgIHdoZW4gXCJOXCJcbiAgICAgICAgY29udGludWUgaWYgTnVtYmVyLmlzTmFOIHZcbiAgICAgIHdoZW4gXCJCT09MXCIsIFwiTlVMTFwiXG4gICAgICAgIGNvbnRpbnVlIHVubGVzcyBpc0Jvb2xlYW4gdlxuICAgICAgd2hlbiBcIk1cIlxuICAgICAgICBjb250aW51ZSB1bmxlc3MgKGlzT2JqZWN0IHYpICYmICghZW1wdHkga2V5cyB2KVxuICAgICAgd2hlbiBcIkpTT05cIlxuICAgICAgICBjb250aW51ZSBpZiBlbXB0eSBKU09OLnN0cmluZ2lmeSB2XG4gICAgICB3aGVuIFwiU0VUXCJcbiAgICAgICAgY29udGludWUgdW5sZXNzIGlzVHlwZSBTZXQsIHZcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yIFwiYmFkIHVwZGF0ZSB0eXBlIGNvbnZlcnNpb25cIlxuXG4gICAgY2h1bmtzLnB1c2ggXCIje2t9ID0gI3txdiBmIHtrOnZ9fVwiXG5cbiAgaWYgIWVtcHR5IGNodW5rc1xuICAgIFwiU0VUICN7Y2h1bmtzLmpvaW4oXCIsIFwiKX1cIlxuICBlbHNlXG4gICAgXCJcIlxuXG5kcm9wRXggPSAoZHJvcCkgLT5cbiAgaWYgZHJvcCAmJiAoIWVtcHR5IGRyb3ApXG4gICAgXCIgUkVNT1ZFICN7ZHJvcC5qb2luKFwiLCBcIil9XCIgICMgVGhlIGxlYWRpbmcgc3BhY2UgaXMgaW1wb3J0YW50ISFcbiAgZWxzZVxuICAgIFwiXCJcblxuXG5leHBvcnQgZGVmYXVsdCB7cGFyc2VDb25kaXRpb25hbCwgcXYsIHVwZGF0ZUV4LCBudW1iZXJFeCwgZHJvcEV4fVxuZXhwb3J0IHtcbiAgcGFyc2VDb25kaXRpb25hbFxuICBxdlxuICB1cGRhdGVFeFxuICBudW1iZXJFeFxuICBkcm9wRXhcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=/Users/david/repos/sundog/src/primitives/dynamodb/helpers/expressions.coffee